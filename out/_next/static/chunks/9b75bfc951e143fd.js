(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,679877,(e,t,r)=>{"use strict";var i,n="object"==typeof Reflect?Reflect:null,o=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(e,t){return new Promise(function(r,i){var n,o,s;function a(r){e.removeListener(t,h),i(r)}function h(){"function"==typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}g(e,t,h,{once:!0}),"error"!==t&&(n=e,o=a,s={once:!0},"function"==typeof n.on&&g(n,"error",o,s))})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var h=10;function l(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,r,i){if(l(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=c(e))>0&&s.length>n&&!s.warned){s.warned=!0;var n,o,s,a=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=u.bind(i);return n.listener=r,i.wrapFn=n,n}function p(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):b(n,n.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=Array(t),i=0;i<t;++i)r[i]=e[i];return r}function g(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function n(o){i.once&&e.removeEventListener(t,n),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e||e<0||s(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");h=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var h=n[e];if(void 0===h)return!1;if("function"==typeof h)o(h,this,t);else for(var l=h.length,c=b(h,l),r=0;r<l;++r)o(c[r],this,t);return!0},a.prototype.addListener=function(e,t){return f(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return f(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,i,n,o,s;if(l(t),void 0===(i=this._events)||void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},a.prototype.listenerCount=y,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},658399,e=>{"use strict";var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,r)};function r(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function n(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function o(e,t,r,i){var n,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(o<3?n(s):o>3?n(t,r,s):n(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function s(e,t){return function(r,i){t(r,i,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,i){return new(r||(r=Promise))(function(n,o){function s(e){try{h(i.next(e))}catch(e){o(e)}}function a(e){try{h(i.throw(e))}catch(e){o(e)}}function h(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}h((i=i.apply(e,t||[])).next())})}function l(e,t){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){var h=[o,a];if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&h[0]?i.return:h[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,h[1])).done)return n;switch(i=0,n&&(h=[2&h[0],n.value]),h[0]){case 0:case 1:n=h;break;case 4:return s.label++,{value:h[1],done:!1};case 5:s.label++,i=h[1],h=[0];continue;case 7:h=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===h[0]||2===h[0])){s=0;continue}if(3===h[0]&&(!n||h[1]>n[0]&&h[1]<n[3])){s.label=h[1];break}if(6===h[0]&&s.label<n[1]){s.label=n[1],n=h;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(h);break}n[2]&&s.ops.pop(),s.trys.pop();continue}h=t.call(e,s)}catch(e){h=[6,e],i=0}finally{r=n=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}}function c(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function g(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){n[e]&&(i[e]=function(t){return new Promise(function(r,i){o.push([e,t,r,i])>1||a(e,t)})})}function a(e,t){try{var r;(r=n[e](t)).value instanceof b?Promise.resolve(r.value.v).then(h,l):c(o[0][2],r)}catch(e){c(o[0][3],e)}}function h(e){a("next",e)}function l(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,r;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:"return"===i}:n?n(t):t}:n}}function m(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=u(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){var o,s,a;o=i,s=n,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:a})},s)})}}}function v(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function A(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}e.s(["__assign",()=>i,"__asyncDelegator",()=>w,"__asyncGenerator",()=>g,"__asyncValues",()=>m,"__await",()=>b,"__awaiter",()=>h,"__classPrivateFieldGet",()=>S,"__classPrivateFieldSet",()=>A,"__createBinding",()=>c,"__decorate",()=>o,"__exportStar",()=>f,"__extends",()=>r,"__generator",()=>l,"__importDefault",()=>E,"__importStar",()=>x,"__makeTemplateObject",()=>v,"__metadata",()=>a,"__param",()=>s,"__read",()=>d,"__rest",()=>n,"__spread",()=>p,"__spreadArrays",()=>y,"__values",()=>u])},177409,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.delay=void 0,r.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},701721,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_THOUSAND=r.ONE_HUNDRED=void 0,r.ONE_HUNDRED=100,r.ONE_THOUSAND=1e3},489218,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=5*r.ONE_MINUTE,r.TEN_MINUTES=10*r.ONE_MINUTE,r.THIRTY_MINUTES=30*r.ONE_MINUTE,r.SIXTY_MINUTES=60*r.ONE_MINUTE,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=3*r.ONE_HOUR,r.SIX_HOURS=6*r.ONE_HOUR,r.TWELVE_HOURS=12*r.ONE_HOUR,r.TWENTY_FOUR_HOURS=24*r.ONE_HOUR,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=3*r.ONE_DAY,r.FIVE_DAYS=5*r.ONE_DAY,r.SEVEN_DAYS=7*r.ONE_DAY,r.THIRTY_DAYS=30*r.ONE_DAY,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=2*r.ONE_WEEK,r.THREE_WEEKS=3*r.ONE_WEEK,r.FOUR_WEEKS=4*r.ONE_WEEK,r.ONE_YEAR=365*r.ONE_DAY},159842,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(658399);i.__exportStar(e.r(701721),r),i.__exportStar(e.r(489218),r)},391903,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromMiliseconds=r.toMiliseconds=void 0;let i=e.r(159842);r.toMiliseconds=function(e){return e*i.ONE_THOUSAND},r.fromMiliseconds=function(e){return Math.floor(e/i.ONE_THOUSAND)}},140283,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(658399);i.__exportStar(e.r(177409),r),i.__exportStar(e.r(391903),r)},277900,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Watch=void 0;class i{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}r.Watch=i,r.default=i},143414,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IWatch=void 0,r.IWatch=class{}},100486,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),e.r(658399).__exportStar(e.r(143414),r)},550483,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(658399);i.__exportStar(e.r(140283),r),i.__exportStar(e.r(277900),r),i.__exportStar(e.r(100486),r),i.__exportStar(e.r(159842),r)},12791,(e,t,r)=>{"use strict";function i(e){let t;return"u">typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=i(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(r,"__esModule",{value:!0}),r.getLocalStorage=r.getLocalStorageOrThrow=r.getCrypto=r.getCryptoOrThrow=r.getLocation=r.getLocationOrThrow=r.getNavigator=r.getNavigatorOrThrow=r.getDocument=r.getDocumentOrThrow=r.getFromWindowOrThrow=r.getFromWindow=void 0,r.getFromWindow=i,r.getFromWindowOrThrow=n,r.getDocumentOrThrow=function(){return n("document")},r.getDocument=function(){return i("document")},r.getNavigatorOrThrow=function(){return n("navigator")},r.getNavigator=function(){return i("navigator")},r.getLocationOrThrow=function(){return n("location")},r.getLocation=function(){return i("location")},r.getCryptoOrThrow=function(){return n("crypto")},r.getCrypto=function(){return i("crypto")},r.getLocalStorageOrThrow=function(){return n("localStorage")},r.getLocalStorage=function(){return i("localStorage")}},571232,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getWindowMetadata=void 0;let i=e.r(12791);r.getWindowMetadata=function(){let e,t,r;try{e=i.getDocumentOrThrow(),t=i.getLocationOrThrow()}catch(e){return null}function n(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let i=r[e],n=["itemprop","property","name"].map(e=>i.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(n.length&&n){let e=i.getAttribute("content");if(e)return e}}return""}let o=((r=n("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),s=n("description","og:description","twitter:description","keywords"),a=t.origin;return{description:s,url:a,icons:function(){let r=e.getElementsByTagName("link"),i=[];for(let e=0;e<r.length;e++){let n=r[e],o=n.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){let e=n.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let i=t.pathname.split("/");i.pop(),r+=i.join("/")+"/"+e}i.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;i.push(r)}else i.push(e)}}return i}(),name:o}}},33898,344048,265436,60969,e=>{"use strict";var t=e.i(914655),r=function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},i=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},n=function(e){this.version=e,this.type="node",this.name="node",this.os=t.default.platform},o=function(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},a=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},h=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],c=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?u(e):"u"<typeof document&&"u">typeof navigator&&"ReactNative"===navigator.product?new a:"u">typeof navigator?u(navigator.userAgent):void 0!==t.default&&t.default.version?new n(t.default.version.slice(1)):null}function u(e){var t=""!==e&&l.reduce(function(t,r){var i=r[0],n=r[1];if(t)return t;var o=n.exec(e);return!!o&&[i,o]},!1);if(!t)return null;var n=t[0],a=t[1];if("searchbot"===n)return new s;var f=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);f?f.length<3&&(f=r(r([],f,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-f.length),!0)):f=[];var u=f.join("."),d=function(e){for(var t=0,r=c.length;t<r;t++){var i=c[t],n=i[0];if(i[1].exec(e))return n}return null}(e),p=h.exec(e);return p&&p[1]?new o(n,u,d,p[1]):new i(n,u,d)}e.s(["detect",()=>f],33898);let d=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let i=e.charAt(r),n=i.charCodeAt(0);if(255!==t[n])throw TypeError(i+" is ambiguous");t[n]=r}let r=e.length,i=e.charAt(0),n=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let o=0,s=0,a=0;for(;e[o]===i;)s++,o++;let h=(e.length-o)*n+1>>>0,l=new Uint8Array(h);for(;o<e.length;){let i=e.charCodeAt(o);if(i>255)return;let n=t[i];if(255===n)return;let s=0;for(let e=h-1;(0!==n||s<a)&&-1!==e;e--,s++)n+=r*l[e]>>>0,l[e]=n%256>>>0,n=n/256>>>0;if(0!==n)throw Error("Non-zero carry");a=s,o++}let c=h-a;for(;c!==h&&0===l[c];)c++;let f=new Uint8Array(s+(h-c)),u=s;for(;c!==h;)f[u++]=l[c++];return f}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let n=0,s=0,a=0,h=t.length;for(;a!==h&&0===t[a];)a++,n++;let l=(h-a)*o+1>>>0,c=new Uint8Array(l);for(;a!==h;){let e=t[a],i=0;for(let t=l-1;(0!==e||i<s)&&-1!==t;t--,i++)e+=256*c[t]>>>0,c[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");s=i,a++}let f=l-s;for(;f!==l&&0===c[f];)f++;let u=i.repeat(n);for(;f<l;++f)u+=e.charAt(c[f]);return u},decodeUnsafe:s,decode:function(e){let t=s(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function p(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}e.s(["default",0,d],344048);class y{constructor(e,t){this.type=e,this.data=t}}class b extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(b.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:b.name})}}function g(e,t,r){let i=Math.floor(r/0x100000000);e.setUint32(t,i),e.setUint32(t+4,r)}function w(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}let m={type:-1,encode:function(e){if(!(e instanceof Date))return null;{let t,r,i,n;return function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=0x3ffffffff)if(0===t&&e<=0xffffffff){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}else{let r=e/0x100000000,i=new Uint8Array(8),n=new DataView(i.buffer);return n.setUint32(0,t<<2|3&r),n.setUint32(4,0|e),i}{let r=new Uint8Array(12),i=new DataView(r.buffer);return i.setUint32(0,t),g(i,4,e),r}}((r=Math.floor((t=e.getTime())/1e3),n=Math.floor((i=(t-1e3*r)*1e6)/1e9),{sec:r+n,nsec:i-1e9*n}))}},decode:function(e){let t=function(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*0x100000000+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:w(t,4),nsec:t.getUint32(0)};default:throw new b(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class v{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(m)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{let i=-1-e;this.builtInEncoders[i]=t,this.builtInDecoders[i]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){let i=this.builtInEncoders[r];if(null!=i){let n=i(e,t);if(null!=n)return new y(-1-r,n)}}for(let r=0;r<this.encoders.length;r++){let i=this.encoders[r];if(null!=i){let n=i(e,t);if(null!=n)return new y(r,n)}}return e instanceof y?e:null}decode(e,t,r){let i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new y(t,e)}}v.defaultCodec=new v;let x=new TextEncoder;function E(e,t,r){let i=t,n=i+r,o=[],s="";for(;i<n;){let t=e[i++];if((128&t)==0)o.push(t);else if((224&t)==192){let r=63&e[i++];o.push((31&t)<<6|r)}else if((240&t)==224){let r=63&e[i++],n=63&e[i++];o.push((31&t)<<12|r<<6|n)}else if((248&t)==240){let r=(7&t)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++];r>65535&&(r-=65536,o.push(r>>>10&1023|55296),r=56320|1023&r),o.push(r)}else o.push(t);o.length>=4096&&(s+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(s+=String.fromCharCode(...o)),s}let S=new TextDecoder;function A(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}let _="array",U="map_key",I="map_value",O=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new b("The type of key must be string or number but "+typeof e)};class B{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let t=this.getUninitializedStateFromPool();t.type=_,t.position=0,t.size=e,t.array=Array(e)}pushMapState(e){let t=this.getUninitializedStateFromPool();t.type=U,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===_&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===U||e.type===I)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let T=new DataView(new ArrayBuffer(0)),C=new Uint8Array(T.buffer);try{T.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let P=RangeError("Insufficient data"),k=new class{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){let i=this.caches[r-1];e:for(let n of i){let i=n.bytes;for(let n=0;n<r;n++)if(i[n]!==e[t+n])continue e;return n.str}return null}store(e,t){let r=this.caches[e.length-1],i={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,t,r){let i=this.find(e,t,r);if(null!=i)return this.hit++,i;this.miss++;let n=E(e,t,r),o=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(o,n),n}};class L{constructor(e){this.totalPos=0,this.pos=0,this.view=T,this.bytes=C,this.headByte=-1,this.stack=new B,this.entered=!1,this.extensionCodec=e?.extensionCodec??v.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??0xffffffff,this.maxBinLength=e?.maxBinLength??0xffffffff,this.maxArrayLength=e?.maxArrayLength??0xffffffff,this.maxMapLength=e?.maxMapLength??0xffffffff,this.maxExtLength=e?.maxExtLength??0xffffffff,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:k,this.mapKeyConverter=e?.mapKeyConverter??O}clone(){return new L({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){let t=A(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let t=this.bytes.subarray(this.pos),r=A(e),i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),this.setBuffer(i)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:t,pos:r}=this;return RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let t=this.clone();yield*t.decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{let t;this.entered=!0;let r=!1;for await(let i of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(i);try{t=this.doDecodeSync(),r=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}let{headByte:i,pos:n,totalPos:o}=this;throw RangeError(`Insufficient data in parsing ${p(i)} at ${o} (${n} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async *decodeMultiAsync(e,t){if(this.entered){let r=this.clone();yield*r.decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,i=-1;for await(let n of e){if(t&&0===i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(n),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--i;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){t:for(;;){let e,t=this.readHeadByte();if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){let r=t-128;if(0!==r){this.pushMapState(r),this.complete();continue}e={}}else if(t<160){let r=t-144;if(0!==r){this.pushArrayState(r),this.complete();continue}e=[]}else{let r=t-160;e=this.decodeString(r,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){let t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){let t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){let t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){let t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(221===t){let t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(222===t){let t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(223===t){let t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(196===t){let t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){let t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){let t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){let t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){let t=this.lookU16();e=this.decodeExtension(t,2)}else if(201===t){let t=this.lookU32();e=this.decodeExtension(t,4)}else throw new b(`Unrecognized type byte: ${p(t)}`);this.complete();let r=this.stack;for(;r.length>0;){let t=r.top();if(t.type===_)if(t.array[t.position]=e,t.position++,t.position===t.size)e=t.array,r.release(t);else continue t;else if(t.type===U){if("__proto__"===e)throw new b("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=I;continue t}else if(t.map[t.key]=e,t.readCount++,t.readCount===t.size)e=t.map,r.release(t);else{t.key=null,t.type=U;continue t}}return e}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new b(`Unrecognized array type byte: ${p(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new b(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new b(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){let r;if(e>this.maxStrLength)throw new b(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw P;let i=this.pos+t;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,i,e):function(e,t,r){let i;if(!(r>200))return E(e,t,r);return i=e.subarray(t,t+r),S.decode(i)}(this.bytes,i,e),this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===U}decodeBinary(e,t){if(e>this.maxBinLength)throw new b(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw P;let r=this.pos+t,i=this.bytes.subarray(r,r+e);return this.pos+=t+e,i}decodeExtension(e,t){if(e>this.maxExtLength)throw new b(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let r=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){var e,t;let r=(e=this.view,t=this.pos,0x100000000*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r}readI64(){let e=w(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function N(e,t){return new L(t).decode(e)}e.s(["decode",()=>N],265436);class R{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??v.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new R({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),r=new Uint8Array(t),i=new DataView(t);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let t=function(e){let t=e.length,r=0,i=0;for(;i<t;){let n=e.charCodeAt(i++);if((0xffffff80&n)==0){r++;continue}if((0xfffff800&n)==0)r+=2;else{if(n>=55296&&n<=56319&&i<t){let t=e.charCodeAt(i);(64512&t)==56320&&(++i,n=((1023&n)<<10)+(1023&t)+65536)}(0xffff0000&n)==0?r+=3:r+=4}}return r}(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){if(e.length>50)x.encodeInto(e,t.subarray(r));else!function(e,t,r){let i=e.length,n=r,o=0;for(;o<i;){let r=e.charCodeAt(o++);if((0xffffff80&r)==0){t[n++]=r;continue}if((0xfffff800&r)==0)t[n++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&o<i){let t=e.charCodeAt(o);(64512&t)==56320&&(++o,r=((1023&r)<<10)+(1023&t)+65536)}(0xffff0000&r)==0?t[n++]=r>>12&15|224:(t[n++]=r>>18&7|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128}t[n++]=63&r|128}}(e,t,r)}(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){let r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let r=A(e);this.writeU8a(r)}encodeArray(e,t){let r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<0x100000000)this.writeU8(221),this.writeU32(r);else throw Error(`Too large array: ${r}`);for(let r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(let i of t)void 0!==e[i]&&r++;return r}encodeMap(e,t){let r=Object.keys(e);this.sortKeys&&r.sort();let i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<0x100000000)this.writeU8(223),this.writeU32(i);else throw Error(`Too large map object: ${i}`);for(let i of r){let r=e[i];this.ignoreUndefined&&void 0===r||(this.encodeString(i),this.doEncode(r,t+1))}}encodeExtension(e){if("function"==typeof e.data){let t=e.data(this.pos+6),r=t.length;if(r>=0x100000000)throw Error(`Too large extension object: ${r}`);this.writeU8(201),this.writeU32(r),this.writeI8(e.type),this.writeU8a(t);return}let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){var t,r;this.ensureBufferSizeToWrite(8),t=this.view,r=this.pos,t.setUint32(r,e/0x100000000),t.setUint32(r+4,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),g(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function D(e,t){return new R(t).encodeSharedRef(e)}e.s(["encode",()=>D],60969)},14526,e=>{"use strict";function t(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)}catch(t){return e}}function r(e){return"string"==typeof e?e:JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t)||""}e.s(["safeJsonParse",()=>t,"safeJsonStringify",()=>r])},232232,e=>{"use strict";let t,r;var i,n=e.i(550483),o=e.i(14526);function s(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let h="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,l=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function c(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),s(e),e}class f{clone(){return this._cloneInto()}}function u(e=32){if(h&&"function"==typeof h.getRandomValues)return h.getRandomValues(new Uint8Array(e));if(h&&"function"==typeof h.randomBytes)return h.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class d extends f{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l(this.buffer)}update(e){a(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=c(e)).length;for(let o=0;o<n;){let s=Math.min(i-this.pos,n-o);if(s===i){let t=l(e);for(;i<=n-o;o+=i)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a(this),function(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let e=o;e<i;e++)t[e]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),o=BigInt(0xffffffff),s=Number(r>>n&o),a=Number(r&o),h=4*!!i,l=4*!i;e.setUint32(t+h,s,i),e.setUint32(t+l,a,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);let h=l(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,u=this.get();if(f>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<f;e++)h.setUint32(4*e,u[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=n,e.destroyed=o,i%t&&e.buffer.set(r),e}}let p=BigInt(0x100000000-1),y=BigInt(32),b=(e,t,r)=>e>>>r,g=(e,t,r)=>e<<32-r|t>>>r,w=(e,t,r)=>e>>>r|t<<32-r,m=(e,t,r)=>e<<32-r|t>>>r,v=(e,t,r)=>e<<64-r|t>>>r-32,x=(e,t,r)=>e>>>r-32|t<<64-r,E=function(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/0x100000000|0)|0,l:0|n}},S=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),A=(e,t,r,i)=>t+r+i+(e/0x100000000|0)|0,_=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),U=(e,t,r,i,n)=>t+r+i+n+(e/0x100000000|0)|0,I=(e,t,r,i,n,o)=>t+r+i+n+o+(e/0x100000000|0)|0,O=(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0),[B,T]=function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){let{h:o,l:s}=function(e,t=!1){return t?{h:Number(e&p),l:Number(e>>y&p)}:{h:0|Number(e>>y&p),l:0|Number(e&p)}}(e[n],t);[r[n],i[n]]=[o,s]}return[r,i]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),C=new Uint32Array(80),P=new Uint32Array(80);class k extends d{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:o,Dh:s,Dl:a,Eh:h,El:l,Fh:c,Fl:f,Gh:u,Gl:d,Hh:p,Hl:y}=this;return[e,t,r,i,n,o,s,a,h,l,c,f,u,d,p,y]}set(e,t,r,i,n,o,s,a,h,l,c,f,u,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|h,this.El=0|l,this.Fh=0|c,this.Fl=0|f,this.Gh=0|u,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)C[r]=e.getUint32(t),P[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|C[e-15],r=0|P[e-15],i=w(t,r,1)^w(t,r,8)^b(t,r,7),n=m(t,r,1)^m(t,r,8)^g(t,r,7),o=0|C[e-2],s=0|P[e-2],a=w(o,s,19)^v(o,s,61)^b(o,s,6),h=_(n,m(o,s,19)^x(o,s,61)^g(o,s,6),P[e-7],P[e-16]),l=U(h,i,a,C[e-7],C[e-16]);C[e]=0|l,P[e]=0|h}let{Ah:r,Al:i,Bh:n,Bl:o,Ch:s,Cl:a,Dh:h,Dl:l,Eh:c,El:f,Fh:u,Fl:d,Gh:p,Gl:y,Hh:k,Hl:L}=this;for(let e=0;e<80;e++){let t=w(c,f,14)^w(c,f,18)^v(c,f,41),b=m(c,f,14)^m(c,f,18)^x(c,f,41),g=c&u^~c&p,_=O(L,b,f&d^~f&y,T[e],P[e]),U=I(_,k,t,g,B[e],C[e]),N=0|_,R=w(r,i,28)^v(r,i,34)^v(r,i,39),D=m(r,i,28)^x(r,i,34)^x(r,i,39),M=r&n^r&s^n&s,j=i&o^i&a^o&a;k=0|p,L=0|y,p=0|u,y=0|d,u=0|c,d=0|f,({h:c,l:f}=E(0|h,0|l,0|U,0|N)),h=0|s,l=0|a,s=0|n,a=0|o,n=0|r,o=0|i;let z=S(N,D,j);r=A(z,U,R,M),i=0|z}({h:r,l:i}=E(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:o}=E(0|this.Bh,0|this.Bl,0|n,0|o)),({h:s,l:a}=E(0|this.Ch,0|this.Cl,0|s,0|a)),({h:h,l:l}=E(0|this.Dh,0|this.Dl,0|h,0|l)),({h:c,l:f}=E(0|this.Eh,0|this.El,0|c,0|f)),({h:u,l:d}=E(0|this.Fh,0|this.Fl,0|u,0|d)),({h:p,l:y}=E(0|this.Gh,0|this.Gl,0|p,0|y)),({h:k,l:L}=E(0|this.Hh,0|this.Hl,0|k,0|L)),this.set(r,i,n,o,s,a,h,l,c,f,u,d,p,y,k,L)}roundClean(){C.fill(0),P.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let L=(i=()=>new k,(t=e=>i().update(c(e)).digest()).outputLen=(r=i()).outputLen,t.blockLen=r.blockLen,t.create=()=>i(),t),N=BigInt(0),R=BigInt(1),D=BigInt(2);function M(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function j(e){if(!M(e))throw Error("Uint8Array expected")}function z(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let F=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function W(e){j(e);let t="";for(let r=0;r<e.length;r++)t+=F[e[r]];return t}function H(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?N:BigInt("0x"+e)}function $(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function K(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=$(e.charCodeAt(n)),o=$(e.charCodeAt(n+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+o}return i}function V(e){return j(e),H(W(Uint8Array.from(e).reverse()))}function q(e,t){return K(e.toString(16).padStart(2*t,"0"))}function J(e,t){return q(e,t).reverse()}function Y(e,t,r){let i;if("string"==typeof t)try{i=K(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(M(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=i.length;if("number"==typeof r&&n!==r)throw Error(e+" of length "+r+" expected, got "+n);return i}function G(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];j(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}let Z=e=>"bigint"==typeof e&&N<=e;function X(e,t,r,i){if(!(Z(t)&&Z(r)&&Z(i))||!(r<=t)||!(t<i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}let Q={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||M(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ee(e,t,r={}){let i=(t,r,i)=>{let n=Q[r];if("function"!=typeof n)throw Error("invalid validator function");let o=e[t];if(!(i&&void 0===o)&&!n(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}function et(e){let t=new WeakMap;return(r,...i)=>{let n=t.get(r);if(void 0!==n)return n;let o=e(r,...i);return t.set(r,o),o}}let er=BigInt(0),ei=BigInt(1),en=BigInt(2),eo=BigInt(3),es=BigInt(4),ea=BigInt(5),eh=BigInt(8);function el(e,t){let r=e%t;return r>=er?r:t+r}function ec(e,t,r){let i=e;for(;t-- >er;)i*=i,i%=r;return i}function ef(e,t){if(e===er)throw Error("invert: expected non-zero number");if(t<=er)throw Error("invert: expected positive modulus, got "+t);let r=el(e,t),i=t,n=er,o=ei;for(;r!==er;){let e=i/r,t=i%r,s=n-o*e;i=r,r=t,n=o,o=s}if(i!==ei)throw Error("invert: does not exist");return el(n,t)}let eu=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ed(e,t){let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function ep(e,t,r=!1,i={}){let n;if(e<=er)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=ed(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:(D<<BigInt(o-1))-R,ZERO:er,ONE:ei,create:t=>el(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return er<=t&&t<e},is0:e=>e===er,isOdd:e=>(e&ei)===ei,neg:t=>el(-t,e),eql:(e,t)=>e===t,sqr:t=>el(t*t,e),add:(t,r)=>el(t+r,e),sub:(t,r)=>el(t-r,e),mul:(t,r)=>el(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<er)throw Error("invalid exponent, negatives unsupported");if(r===er)return e.ONE;if(r===ei)return t;let i=e.ONE,n=t;for(;r>er;)r&ei&&(i=e.mul(i,n)),n=e.sqr(n),r>>=ei;return i})(a,e,t),div:(t,r)=>el(t*ef(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ef(t,e),sqrt:i.sqrt||(t=>(n||(n=function(e){if(e%es===eo){let t=(e+ei)/es;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}if(e%eh===ea){let t=(e-ea)/eh;return function(e,r){let i=e.mul(r,en),n=e.pow(i,t),o=e.mul(r,n),s=e.mul(e.mul(o,en),n),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,i,n=(e-ei)/en;for(t=e-ei,r=0;t%en===er;t/=en,r++);for(i=en;i<e&&function(e,t,r){if(t<er)throw Error("invalid exponent, negatives unsupported");if(r<=er)throw Error("invalid modulus");if(r===ei)return er;let i=ei;for(;t>er;)t&ei&&(i=i*e%r),e=e*e%r,t>>=ei;return i}(i,n,e)!==e-ei;i++)if(i>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+ei)/es;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}let o=(t+ei)/en;return function(e,s){if(e.pow(s,n)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,h=e.pow(e.mul(e.ONE,i),t),l=e.pow(s,o),c=e.pow(s,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(h,ei<<BigInt(a-t-1));h=e.sqr(r),l=e.mul(l,r),c=e.mul(c,h),a=t}return l}}(e)}(e)),n(a,t))),invertBatch:e=>{let t,r,i;return t=Array(e.length),r=e.reduce((e,r,i)=>a.is0(r)?e:(t[i]=e,a.mul(e,r)),a.ONE),i=a.inv(r),e.reduceRight((e,r,i)=>a.is0(r)?e:(t[i]=a.mul(e,t[i]),a.mul(e,r)),i),t},cmov:(e,t,r)=>r?t:e,toBytes:e=>r?J(e,s):q(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?V(e):H(W(e))}});return Object.freeze(a)}let ey=BigInt(0),eb=BigInt(1);function eg(e,t){let r=t.negate();return e?r:t}function ew(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function em(e,t){return ew(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let ev=new WeakMap,ex=new WeakMap;function eE(e){return ex.get(e)||1}let eS=BigInt(0),eA=BigInt(1),e_=BigInt(2),eU=BigInt(8),eI={zip215:!0};BigInt(0),BigInt(1);let eO=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eB=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let eT=BigInt(1),eC=BigInt(2);BigInt(3);let eP=BigInt(5),ek=BigInt(8),eL=ep(eO,void 0,!0),eN=function(e){var t;let r,i=(ee(e.Fp,eu.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),ee(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),r=Object.freeze({...ed(e.n,e.nBitLength),...e,p:e.Fp.ORDER}),ee(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})),{Fp:n,n:o,prehash:s,hash:a,randomBytes:h,nByteLength:l,h:c}=i,f=e_<<BigInt(8*l)-eA,u=n.create,d=ep(i.n,i.nBitLength),p=i.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:eS}}}),y=i.adjustScalarBytes||(e=>e),b=i.domain||((e,t,r)=>{if(z("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function g(e,t){X("coordinate "+e,t,eS,f)}function w(e){if(!(e instanceof x))throw Error("ExtendedPoint expected")}let m=et((e,t)=>{let{ex:r,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?eU:n.inv(o));let a=u(r*t),h=u(i*t),l=u(o*t);if(s)return{x:eS,y:eA};if(l!==eA)throw Error("invZ was invalid");return{x:a,y:h}}),v=et(e=>{let{a:t,d:r}=i;if(e.is0())throw Error("bad point: ZERO");let{ex:n,ey:o,ez:s,et:a}=e,h=u(n*n),l=u(o*o),c=u(s*s),f=u(c*c),d=u(h*t);if(u(c*u(d+l))!==u(f+u(r*u(h*l))))throw Error("bad point: equation left != right (1)");if(u(n*o)!==u(s*a))throw Error("bad point: equation left != right (2)");return!0});class x{constructor(e,t,r,i){this.ex=e,this.ey=t,this.ez=r,this.et=i,g("x",e),g("y",t),g("z",r),g("t",i),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof x)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return g("x",t),g("y",r),new x(t,r,eA,u(t*r))}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(x.fromAffine)}static msm(e,t){return function(e,t,r,i){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(i,t),r.length!==i.length)throw Error("arrays of points and scalars must have equal length");let n=e.ZERO,o=function(e){let t;for(t=0;e>N;e>>=R,t+=1);return t}(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,h=Array(a+1).fill(n),l=Math.floor((t.BITS-1)/s)*s,c=n;for(let e=l;e>=0;e-=s){h.fill(n);for(let t=0;t<i.length;t++){let n=Number(i[t]>>BigInt(e)&BigInt(a));h[n]=h[n].add(r[t])}let t=n;for(let e=h.length-1,r=n;e>0;e--)r=r.add(h[e]),t=t.add(r);if(c=c.add(t),0!==e)for(let e=0;e<s;e++)c=c.double()}return c}(x,d,e,t)}_setWindowSize(e){A.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){w(e);let{ex:t,ey:r,ez:i}=this,{ex:n,ey:o,ez:s}=e,a=u(t*s),h=u(n*i),l=u(r*s),c=u(o*i);return a===h&&l===c}is0(){return this.equals(x.ZERO)}negate(){return new x(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:e}=i,{ex:t,ey:r,ez:n}=this,o=u(t*t),s=u(r*r),a=u(e_*u(n*n)),h=u(e*o),l=t+r,c=u(u(l*l)-o-s),f=h+s,d=f-a,p=h-s,y=u(c*d),b=u(f*p),g=u(c*p);return new x(y,b,u(d*f),g)}add(e){w(e);let{a:t,d:r}=i,{ex:n,ey:o,ez:s,et:a}=this,{ex:h,ey:l,ez:c,et:f}=e;if(t===BigInt(-1)){let e=u((o-n)*(l+h)),t=u((o+n)*(l-h)),r=u(t-e);if(r===eS)return this.double();let i=u(s*e_*f),d=u(a*e_*c),p=d+i,y=t+e,b=d-i,g=u(p*r),w=u(y*b),m=u(p*b);return new x(g,w,u(r*y),m)}let d=u(n*h),p=u(o*l),y=u(a*r*f),b=u(s*c),g=u((n+o)*(h+l)-d-p),m=b-y,v=b+y,E=u(p-t*d),S=u(g*m),A=u(v*E),_=u(g*E);return new x(S,A,u(m*v),_)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,e,x.normalizeZ)}multiply(e){X("scalar",e,eA,o);let{p:t,f:r}=this.wNAF(e);return x.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=x.ZERO){return X("scalar",e,eS,o),e===eS?S:this.is0()||e===eA?this:A.wNAFCachedUnsafe(this,e,x.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,o).is0()}toAffine(e){return m(this,e)}clearCofactor(){let{h:e}=i;return e===eA?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:r,a:o}=i,s=n.BYTES;e=Y("pointHex",e,s),z("zip215",t);let a=e.slice(),h=e[s-1];a[s-1]=-129&h;let l=V(a);X("pointHex.y",l,eS,t?f:n.ORDER);let c=u(l*l),{isValid:d,value:y}=p(u(c-eA),u(r*c-o));if(!d)throw Error("Point.fromHex: invalid y coordinate");let b=(y&eA)===eA,g=(128&h)!=0;if(!t&&y===eS&&g)throw Error("Point.fromHex: x=0 and x_0=1");return g!==b&&(y=u(-y)),x.fromAffine({x:y,y:l})}static fromPrivateKey(e){return _(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=J(t,n.BYTES);return r[r.length-1]|=e&eA?128:0,r}toHex(){return W(this.toRawBytes())}}x.BASE=new x(i.Gx,i.Gy,eA,u(i.Gx*i.Gy)),x.ZERO=new x(eS,eA,eA,eS);let{BASE:E,ZERO:S}=x,A=(t=8*l,{constTimeNegate:eg,hasPrecomputes:e=>1!==eE(e),unsafeLadder(e,t,r=x.ZERO){let i=e;for(;t>ey;)t&eb&&(r=r.add(i)),i=i.double(),t>>=eb;return r},precomputeWindow(e,r){let{windows:i,windowSize:n}=em(r,t),o=[],s=e,a=s;for(let e=0;e<i;e++){a=s,o.push(a);for(let e=1;e<n;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,r,i){let{windows:n,windowSize:o}=em(e,t),s=x.ZERO,a=x.BASE,h=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<n;e++){let t=e*o,n=Number(i&h);i>>=c,n>o&&(n-=l,i+=eb);let f=t+Math.abs(n)-1,u=e%2!=0,d=n<0;0===n?a=a.add(eg(u,r[t])):s=s.add(eg(d,r[f]))}return{p:s,f:a}},wNAFUnsafe(e,r,i,n=x.ZERO){let{windows:o,windowSize:s}=em(e,t),a=BigInt(2**e-1),h=2**e,l=BigInt(e);for(let e=0;e<o;e++){let t=e*s;if(i===ey)break;let o=Number(i&a);if(i>>=l,o>s&&(o-=h,i+=eb),0===o)continue;let c=r[t+Math.abs(o)-1];o<0&&(c=c.negate()),n=n.add(c)}return n},getPrecomputes(e,t,r){let i=ev.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&ev.set(t,r(i))),i},wNAFCached(e,t,r){let i=eE(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)},wNAFCachedUnsafe(e,t,r,i){let n=eE(e);return 1===n?this.unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)},setWindowSize(e,r){ew(r,t),ex.set(e,r),ev.delete(e)}});function _(e){let t=n.BYTES;e=Y("private key",e,t);let r=Y("hashed private key",a(e),2*t),i=y(r.slice(0,t)),s=r.slice(t,2*t),h=el(V(i),o),l=E.multiply(h),c=l.toRawBytes();return{head:i,prefix:s,scalar:h,point:l,pointBytes:c}}function U(e=new Uint8Array,...t){return el(V(a(b(G(...t),Y("context",e),!!s))),o)}return E._setWindowSize(8),{CURVE:i,getPublicKey:function(e){return _(e).pointBytes},sign:function(e,t,r={}){e=Y("message",e),s&&(e=s(e));let{prefix:i,scalar:a,pointBytes:h}=_(t),l=U(r.context,i,e),c=E.multiply(l).toRawBytes(),f=el(l+U(r.context,c,h,e)*a,o);return X("signature.s",f,eS,o),Y("result",G(c,J(f,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,i=eI){let o,a,h,{context:l,zip215:c}=i,f=n.BYTES;e=Y("signature",e,2*f),t=Y("message",t),r=Y("publicKey",r,f),void 0!==c&&z("zip215",c),s&&(t=s(t));let u=V(e.slice(f,2*f));try{o=x.fromHex(r,c),a=x.fromHex(e.slice(0,f),c),h=E.multiplyUnsafe(u)}catch{return!1}if(!c&&o.isSmallOrder())return!1;let d=U(l,a.toRawBytes(),o.toRawBytes(),t);return a.add(o.multiplyUnsafe(d)).subtract(h).clearCofactor().equals(x.ZERO)},ExtendedPoint:x,utils:{getExtendedPublicKey:_,randomPrivateKey:()=>h(n.BYTES),precompute:(e=8,t=x.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eL,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ek,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:L,randomBytes:u,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){var r;let i,n,o,s,a,h,l,c,f,u,d,p,y,b,g=el(t*t*t,eO),w=(r=e*el(g*g*t,eO),i=BigInt(10),n=BigInt(20),o=BigInt(40),s=BigInt(80),h=ec(a=r*r%eO*r%eO,eC,eO)*a%eO,l=ec(h,eT,eO)*r%eO,c=ec(l,eP,eO)*l%eO,f=ec(c,i,eO)*c%eO,u=ec(f,n,eO)*f%eO,d=ec(u,o,eO)*u%eO,p=ec(d,s,eO)*d%eO,y=ec(p,s,eO)*d%eO,b=ec(y,i,eO)*c%eO,{pow_p_5_8:ec(b,eC,eO)*r%eO,b2:a}).pow_p_5_8,m=el(e*g*w,eO),v=el(t*m*m,eO),x=m,E=el(m*eB,eO),S=v===e,A=v===el(-e,eO),_=v===el(-e*eB,eO);return S&&(m=x),(A||_)&&(m=E),(el(m,eO)&ei)===ei&&(m=el(-m,eO)),{isValid:S||A,value:m}}}),eR="base64url",eD="utf8",eM="utf8",ej="base58btc";function ez(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function eF(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ez(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function eW(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=eF(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return ez(r)}var eH=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=n}var a=e.length,h=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===h;)i++,t++;for(var o=(e.length-t)*l+1>>>0,s=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var f=0,u=o-1;(0!==c||f<n)&&-1!==u;u--,f++)c+=a*s[u]>>>0,s[u]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");n=f,t++}if(" "!==e[t]){for(var d=o-n;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(i+(o-d)),y=i;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*c+1>>>0,l=new Uint8Array(s);n!==o;){for(var f=t[n],u=0,d=s-1;(0!==f||u<i)&&-1!==d;d--,u++)f+=256*l[d]>>>0,l[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");i=u,n++}for(var p=s-i;p!==s&&0===l[p];)p++;for(var y=h.repeat(r);p<s;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}}};let e$=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class eK{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class eV{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return eJ(this,e)}}class eq{constructor(e){this.decoders=e}or(e){return eJ(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let eJ=(e,t)=>new eq({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class eY{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new eK(e,t,r),this.decoder=new eV(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let eG=({name:e,prefix:t,encode:r,decode:i})=>new eY(e,t,r,i),eZ=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:n}=eH(r,t);return eG({prefix:e,name:t,encode:i,decode:e=>e$(n(e))})},eX=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>eG({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,h=0,l=0;for(let t=0;t<o;++t){let o=n[e[t]];if(void 0===o)throw SyntaxError(`Non-${i} character`);h=h<<r|o,(a+=r)>=8&&(a-=8,s[l++]=255&h>>a)}if(a>=r||255&h<<8-a)throw SyntaxError("Unexpected end of data");return s})(t,i,r,e)});var eQ=Object.freeze({__proto__:null,identity:eG({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),e0=Object.freeze({__proto__:null,base2:eX({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),e1=Object.freeze({__proto__:null,base8:eX({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),e2=Object.freeze({__proto__:null,base10:eZ({prefix:"9",name:"base10",alphabet:"0123456789"})}),e8=Object.freeze({__proto__:null,base16:eX({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:eX({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),e6=Object.freeze({__proto__:null,base32:eX({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper:eX({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad:eX({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper:eX({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex:eX({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper:eX({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad:eX({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:eX({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:eX({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),e3=Object.freeze({__proto__:null,base36:eZ({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:eZ({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),e5=Object.freeze({__proto__:null,base58btc:eZ({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:eZ({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),e4=Object.freeze({__proto__:null,base64:eX({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad:eX({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:eX({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:eX({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let e9=Array.from(""),e7=e9.reduce((e,t,r)=>(e[r]=t,e),[]),te=e9.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var tt=Object.freeze({__proto__:null,base256emoji:eG({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=e7[t],"")},decode:function(e){let t=[];for(let r of e){let e=te[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function tr(e,t,r){t=t||[],r=r||0;for(var i=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,tr.bytes=r-i+1,t}var ti=function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10};let tn=(e,t,r=0)=>(tr(e,t,r),t),to=(e,t)=>{let r=t.byteLength,i=ti(e),n=i+ti(r),o=new Uint8Array(n+r);return tn(e,o,0),tn(r,o,i),o.set(t,n),new ts(e,r,t,o)};class ts{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let ta=({name:e,code:t,encode:r})=>new th(e,t,r);class th{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?to(this.code,t):t.then(e=>to(this.code,e))}throw Error("Unknown type, must be binary type")}}let tl=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var tc=Object.freeze({__proto__:null,sha256:ta({name:"sha2-256",code:18,encode:tl("SHA-256")}),sha512:ta({name:"sha2-512",code:19,encode:tl("SHA-512")})}),tf=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:e$,digest:e=>to(0,e$(e))}});new TextEncoder,new TextDecoder;let tu={...eQ,...e0,...e1,...e2,...e8,...e6,...e3,...e5,...e4,...tt};function td(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...tc,...tf});let tp=td("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ty=td("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=eF((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),tb={utf8:tp,"utf-8":tp,hex:tu.base16,latin1:ty,ascii:ty,binary:ty,...tu};function tg(e,t="utf8"){let r=tb[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function tw(e,t="utf8"){let r=tb[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?ez(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function tm(e){return(0,o.safeJsonParse)(tg(tw(e,eR),eD))}function tv(e){return tg(tw((0,o.safeJsonStringify)(e),eD),eR)}function tx(e){return["did:key","z"+tg(eW([tw("K36",ej),e]),ej)].join(":")}function tE(e){let t=e.split(".");return{header:tm(t[0]),payload:tm(t[1]),signature:tw(t[2],eR),data:tw(t.slice(0,2).join("."),eM)}}function tS(e=u(32)){let t=eN.getPublicKey(e);return{secretKey:eW([e,t]),publicKey:t}}async function tA(e,t,r,i,o=(0,n.fromMiliseconds)(Date.now())){let s={alg:"EdDSA",typ:"JWT"},a={iss:tx(i.publicKey),sub:e,aud:t,iat:o,exp:o+r},h=tw([tv((l={header:s,payload:a}).header),tv(l.payload)].join("."),eM);var l,c={header:s,payload:a,signature:eN.sign(h,i.secretKey.slice(0,32))};return[tv(c.header),tv(c.payload),tg(c.signature,eR)].join(".")}e.s(["decodeJWT",()=>tE,"encodeIss",()=>tx,"generateKeyPair",()=>tS,"signJWT",()=>tA])},852081,198323,97224,624792,208910,e=>{"use strict";function t(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function r(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?t(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function i(e,i){i||(i=e.reduce((e,t)=>e+t.length,0));let n=r(i),o=0;for(let t of e)n.set(t,o),o+=t.length;return t(n)}e.s(["concat",()=>i],198323);let n=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=n}var a=e.length,h=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,n=0;e[t]===h;)i++,t++;for(var o=(e.length-t)*l+1>>>0,s=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var f=0,u=o-1;(0!==c||f<n)&&-1!==u;u--,f++)c+=a*s[u]>>>0,s[u]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");n=f,t++}if(" "!==e[t]){for(var d=o-n;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(i+(o-d)),y=i;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*c+1>>>0,l=new Uint8Array(s);n!==o;){for(var f=t[n],u=0,d=s-1;(0!==f||u<i)&&-1!==d;d--,u++)f+=256*l[d]>>>0,l[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");i=u,n++}for(var p=s-i;p!==s&&0===l[p];)p++;for(var y=h.repeat(r);p<s;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}}},o=new Uint8Array(0),s=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),a=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map(e=>parseInt(e,16))):o},h=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},l=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},c=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),f=e=>new TextEncoder().encode(e),u=e=>new TextDecoder().decode(e);e.s(["coerce",()=>l,"empty",()=>o,"equals",()=>h,"fromHex",()=>a,"fromString",()=>f,"isBinary",()=>c,"toHex",()=>s,"toString",()=>u],528695);class d{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class p{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return b(this,e)}}class y{constructor(e){this.decoders=e}or(e){return b(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let b=(e,t)=>new y({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class g{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new d(e,t,r),this.decoder=new p(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let w=({name:e,prefix:t,encode:r,decode:i})=>new g(e,t,r,i),m=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:o}=n(r,t);return w({prefix:e,name:t,encode:i,decode:e=>l(o(e))})},v=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>w({prefix:t,name:e,encode:e=>((e,t,r)=>{let i="="===t[t.length-1],n=(1<<r)-1,o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{let n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,h=0,l=0;for(let t=0;t<o;++t){let o=n[e[t]];if(void 0===o)throw SyntaxError(`Non-${i} character`);h=h<<r|o,(a+=r)>=8&&(a-=8,s[l++]=255&h>>a)}if(a>=r||255&h<<8-a)throw SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),x=w({prefix:"\0",name:"identity",encode:e=>u(e),decode:e=>f(e)});e.s(["identity",0,x],747665);var E=e.i(747665);let S=v({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});e.s(["base2",0,S],856013);var A=e.i(856013);let _=v({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});e.s(["base8",0,_],955747);var U=e.i(955747);let I=m({prefix:"9",name:"base10",alphabet:"0123456789"});e.s(["base10",0,I],99783);var O=e.i(99783);let B=v({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),T=v({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});e.s(["base16",0,B,"base16upper",0,T],918115);var C=e.i(918115);let P=v({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),k=v({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L=v({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),N=v({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),R=v({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),D=v({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),M=v({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),j=v({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),z=v({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});e.s(["base32",0,P,"base32hex",0,R,"base32hexpad",0,M,"base32hexpadupper",0,j,"base32hexupper",0,D,"base32pad",0,L,"base32padupper",0,N,"base32upper",0,k,"base32z",0,z],712751);var F=e.i(712751);let W=m({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),H=m({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});e.s(["base36",0,W,"base36upper",0,H],171883);var $=e.i(171883);let K=m({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),V=m({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});e.s(["base58btc",0,K,"base58flickr",0,V],8825);var q=e.i(8825);let J=v({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Y=v({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),G=v({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Z=v({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});e.s(["base64",0,J,"base64pad",0,Y,"base64url",0,G,"base64urlpad",0,Z],39684);var X=e.i(39684);let Q=Array.from(""),ee=Q.reduce((e,t,r)=>(e[r]=t,e),[]),et=Q.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),er=w({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ee[t],"")},decode:function(e){let t=[];for(let r of e){let e=et[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});e.s(["base256emoji",0,er],78161);var ei=e.i(78161);function en(e,t,r){t=t||[];for(var i=r=r||0;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,en.bytes=r-i+1,t}function eo(e,t){var r,i=0,t=t||0,n=0,o=t,s=e.length;do{if(o>=s)throw eo.bytes=0,RangeError("Could not decode varint");r=e[o++],i+=n<28?(127&r)<<n:(127&r)*Math.pow(2,n),n+=7}while(r>=128)return eo.bytes=o-t,i}let es=(e,t=0)=>[eo(e,t),eo.bytes],ea=(e,t,r=0)=>(en(e,t,r),t),eh=e=>{var t;return(t=e)<128?1:t<16384?2:t<2097152?3:t<0x10000000?4:t<0x800000000?5:t<0x40000000000?6:t<0x2000000000000?7:t<0x100000000000000?8:t<0x8000000000000000?9:10};e.s(["decode",0,es,"encodeTo",0,ea,"encodingLength",0,eh],631426);let el=(e,t)=>{let r=t.byteLength,i=eh(e),n=i+eh(r),o=new Uint8Array(n+r);return ea(e,o,0),ea(r,o,i),o.set(t,n),new eu(e,r,t,o)},ec=e=>{let t=l(e),[r,i]=es(t),[n,o]=es(t.subarray(i)),s=t.subarray(i+o);if(s.byteLength!==n)throw Error("Incorrect length");return new eu(r,n,s,t)},ef=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&h(e.bytes,t.bytes);class eu{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}e.s(["Digest",()=>eu,"create",0,el,"decode",0,ec,"equals",0,ef],956954);let ed=({name:e,code:t,encode:r})=>new ep(e,t,r);class ep{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?el(this.code,t):t.then(e=>el(this.code,e))}throw Error("Unknown type, must be binary type")}}e.s(["Hasher",()=>ep,"from",0,ed],79727);let ey=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),eb=ed({name:"sha2-256",code:18,encode:ey("SHA-256")}),eg=ed({name:"sha2-512",code:19,encode:ey("SHA-512")});e.s(["sha256",0,eb,"sha512",0,eg],668878);var ew=e.i(668878);e.s(["identity",0,{code:0,name:"identity",encode:l,digest:e=>el(0,l(e))}],155061);var em=e.i(155061);e.s(["code",0,85,"decode",0,e=>l(e),"encode",0,e=>l(e),"name",0,"raw"],444570),e.i(444570);let ev=new TextEncoder,ex=new TextDecoder;e.s(["code",0,512,"decode",0,e=>JSON.parse(ex.decode(e)),"encode",0,e=>ev.encode(JSON.stringify(e)),"name",0,"json"],772932),e.i(772932);class eE{constructor(e,t,r,i){this.code=t,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:eC,byteLength:eC,code:eT,version:eT,multihash:eT,bytes:eT,_baseCache:eC,asCID:eC})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eU)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eI)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return eE.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=el(e,t);return eE.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ef(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:i}=this;return 0===r?eA(t,i,e||K.encoder):e_(t,i,e||P.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eP(/^0\.0/,ek),!!(e&&(e[eB]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof eE)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:i,bytes:n}=e;return new eE(t,r,i,n||eO(t,r,i.bytes))}if(null==e||!0!==e[eB])return null;{let{version:t,multihash:r,code:i}=e,n=ec(r);return eE.create(t,i,n)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eU)return new eE(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eU}) block encoding`);case 1:{let i=eO(e,t,r.bytes);return new eE(e,t,r,i)}default:throw Error("Invalid version")}}static createV0(e){return eE.create(0,eU,e)}static createV1(e,t){return eE.create(1,e,t)}static decode(e){let[t,r]=eE.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=eE.inspectBytes(e),r=t.size-t.multihashSize,i=l(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw Error("Incorrect length");let n=i.subarray(t.multihashSize-t.digestSize),o=new eu(t.multihashCode,t.digestSize,n,i);return[0===t.version?eE.createV0(o):eE.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,i]=es(e.subarray(t));return t+=i,r},i=r(),n=eU;if(18===i?(i=0,t=0):1===i&&(n=r()),0!==i&&1!==i)throw RangeError(`Invalid CID version ${i}`);let o=t,s=r(),a=r(),h=t+a;return{version:i,codec:n,multihashCode:s,digestSize:a,multihashSize:h-o,size:h}}static parse(e,t){let[r,i]=eS(e,t),n=eE.decode(i);return n._baseCache.set(r,e),n}}let eS=(e,t)=>{switch(e[0]){case"Q":{let r=t||K;return[K.prefix,r.decode(`${K.prefix}${e}`)]}case K.prefix:{let r=t||K;return[K.prefix,r.decode(e)]}case P.prefix:{let r=t||P;return[P.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eA=(e,t,r)=>{let{prefix:i}=r;if(i!==K.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=t.get(i);if(null!=n)return n;{let n=r.encode(e).slice(1);return t.set(i,n),n}},e_=(e,t,r)=>{let{prefix:i}=r,n=t.get(i);if(null!=n)return n;{let n=r.encode(e);return t.set(i,n),n}},eU=112,eI=18,eO=(e,t,r)=>{let i=eh(e),n=i+eh(t),o=new Uint8Array(n+r.byteLength);return ea(e,o,0),ea(t,o,i),o.set(r,n),o},eB=Symbol.for("@ipld/js-cid/CID"),eT={writable:!1,configurable:!1,enumerable:!0},eC={writable:!1,enumerable:!1,configurable:!1},eP=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},ek=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;e.i(631426),e.i(528695),e.i(79727),e.i(956954);let eL={...E,...A,...U,...O,...C,...F,...$,...q,...X,...ei};function eN(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...ew,...em});let eR=eN("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),eD=eN("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=r((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),eM={utf8:eR,"utf-8":eR,hex:eL.base16,latin1:eD,ascii:eD,binary:eD,...eL};function ej(e,r="utf8"){let i=eM[r];if(!i)throw Error(`Unsupported encoding "${r}"`);return("utf8"===r||"utf-8"===r)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?t(globalThis.Buffer.from(e,"utf-8")):i.decoder.decode(`${i.prefix}${e}`)}function ez(e,t="utf8"){let r=eM[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}e.s(["fromString",()=>ej],97224),e.s(["toString",()=>ez],624792),e.s([],852081);let eF={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};e.s(["RELAY_JSONRPC",()=>eF],208910)},627869,(e,t,r)=>{function i(e){return(0x100000000+e).toString(16).substring(1)}t.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=new TextEncoder().encode(e);else throw Error("Input must be an string, Buffer or Uint8Array");return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,t,r){let n="\n"+e+" = ";for(let o=0;o<t.length;o+=2){if(32===r)n+=i(t[o]).toUpperCase(),n+=" ",n+=i(t[o+1]).toUpperCase();else if(64===r)n+=i(t[o+1]).toUpperCase(),n+=i(t[o]).toUpperCase();else throw Error("Invalid size "+r);o%6==4?n+="\n"+Array(e.length+4).join(" "):o<t.length-2&&(n+=" ")}console.log(n)},testSpeed:function(e,t,r){let i=new Date().getTime(),n=new Uint8Array(t);for(let e=0;e<t;e++)n[e]=e%256;let o=new Date().getTime();console.log("Generated random input in "+(o-i)+"ms"),i=o;for(let o=0;o<r;o++){let r=e(n),o=new Date().getTime(),s=o-i;i=o,console.log("Hashed in "+s+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/1048576/(s/1e3)*100)/100+" MB PER SECOND")}}}},709583,(e,t,r)=>{let i=e.r(627869);function n(e,t,r){let i=e[t]+e[r],n=e[t+1]+e[r+1];i>=0x100000000&&n++,e[t]=i,e[t+1]=n}function o(e,t,r,i){let n=e[t]+r;r<0&&(n+=0x100000000);let o=e[t+1]+i;n>=0x100000000&&o++,e[t]=n,e[t+1]=o}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,r,i,s,a){let h=f[s],l=f[s+1],u=f[a],d=f[a+1];n(c,e,t),o(c,e,h,l);let p=c[i]^c[e],y=c[i+1]^c[e+1];c[i]=y,c[i+1]=p,n(c,r,i),p=c[t]^c[r],y=c[t+1]^c[r+1],c[t]=p>>>24^y<<8,c[t+1]=y>>>24^p<<8,n(c,e,t),o(c,e,u,d),p=c[i]^c[e],y=c[i+1]^c[e+1],c[i]=p>>>16^y<<16,c[i+1]=y>>>16^p<<16,n(c,r,i),p=c[t]^c[r],y=c[t+1]^c[r+1],c[t]=y>>>31^p<<1,c[t+1]=p>>>31^y<<1}let h=new Uint32Array([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),c=new Uint32Array(32),f=new Uint32Array(32);function u(e,t){let r=0;for(r=0;r<16;r++)c[r]=e.h[r],c[r+16]=h[r];for(c[24]=c[24]^e.t,c[25]=c[25]^e.t/0x100000000,t&&(c[28]=~c[28],c[29]=~c[29]),r=0;r<32;r++)f[r]=s(e.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,l[16*r+0],l[16*r+1]),a(2,10,18,26,l[16*r+2],l[16*r+3]),a(4,12,20,28,l[16*r+4],l[16*r+5]),a(6,14,22,30,l[16*r+6],l[16*r+7]),a(0,10,20,30,l[16*r+8],l[16*r+9]),a(2,12,22,24,l[16*r+10],l[16*r+11]),a(4,14,16,26,l[16*r+12],l[16*r+13]),a(6,8,18,28,l[16*r+14],l[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^c[r]^c[r+16]}let d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,r,i){if(0===e||e>64)throw Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(i&&16!==i.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};d.fill(0),d[0]=e,t&&(d[1]=t.length),d[2]=1,d[3]=1,r&&d.set(r,32),i&&d.set(i,48);for(let e=0;e<16;e++)n.h[e]=h[e]^s(d,4*e);return t&&(y(n,t),n.c=128),n}function y(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,u(e,!1),e.c=0),e.b[e.c++]=t[r]}function b(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;u(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function g(e,t,r,n,o){r=r||64,e=i.normalizeInput(e),n&&(n=i.normalizeInput(n)),o&&(o=i.normalizeInput(o));let s=p(r,t,n,o);return y(s,e),b(s)}t.exports={blake2b:g,blake2bHex:function(e,t,r,n,o){let s=g(e,t,r,n,o);return i.toHex(s)},blake2bInit:p,blake2bUpdate:y,blake2bFinal:b}},292837,(e,t,r)=>{let i=e.r(627869);function n(e,t,r,i,n,s){h[e]=h[e]+h[t]+n,h[i]=o(h[i]^h[e],16),h[r]=h[r]+h[i],h[t]=o(h[t]^h[r],12),h[e]=h[e]+h[t]+s,h[i]=o(h[i]^h[e],8),h[r]=h[r]+h[i],h[t]=o(h[t]^h[r],7)}function o(e,t){return e>>>t^e<<32-t}let s=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),h=new Uint32Array(16),l=new Uint32Array(16);function c(e,t){let r=0;for(r=0;r<8;r++)h[r]=e.h[r],h[r+8]=s[r];for(h[12]^=e.t,h[13]^=e.t/0x100000000,t&&(h[14]=~h[14]),r=0;r<16;r++){var i,o;l[r]=(i=e.b)[o=4*r]^i[o+1]<<8^i[o+2]<<16^i[o+3]<<24}for(r=0;r<10;r++)n(0,4,8,12,l[a[16*r+0]],l[a[16*r+1]]),n(1,5,9,13,l[a[16*r+2]],l[a[16*r+3]]),n(2,6,10,14,l[a[16*r+4]],l[a[16*r+5]]),n(3,7,11,15,l[a[16*r+6]],l[a[16*r+7]]),n(0,5,10,15,l[a[16*r+8]],l[a[16*r+9]]),n(1,6,11,12,l[a[16*r+10]],l[a[16*r+11]]),n(2,7,8,13,l[a[16*r+12]],l[a[16*r+13]]),n(3,4,9,14,l[a[16*r+14]],l[a[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=h[r]^h[r+8]}function f(e,t){if(!(e>0&&e<=32))throw Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw Error("Incorrect key length, should be in [1, 32]");let i={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:e};return i.h[0]^=0x1010000^r<<8^e,r>0&&(u(i,t),i.c=64),i}function u(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,c(e,!1),e.c=0),e.b[e.c++]=t[r]}function d(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;c(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function p(e,t,r){r=r||32,e=i.normalizeInput(e);let n=f(r,t);return u(n,e),d(n)}t.exports={blake2s:p,blake2sHex:function(e,t,r){let n=p(e,t,r);return i.toHex(n)},blake2sInit:f,blake2sUpdate:u,blake2sFinal:d}},774789,(e,t,r)=>{let i=e.r(709583),n=e.r(292837);t.exports={blake2b:i.blake2b,blake2bHex:i.blake2bHex,blake2bInit:i.blake2bInit,blake2bUpdate:i.blake2bUpdate,blake2bFinal:i.blake2bFinal,blake2s:n.blake2s,blake2sHex:n.blake2sHex,blake2sInit:n.blake2sInit,blake2sUpdate:n.blake2sUpdate,blake2sFinal:n.blake2sFinal}},443426,(e,t,r)=>{"use strict";function i(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}t.exports=function(e,t,r){var n=r&&r.stringify||i;if("object"==typeof e&&null!==e){var o=t.length+1;if(1===o)return e;var s=Array(o);s[0]=n(e);for(var a=1;a<o;a++)s[a]=n(t[a]);return s.join(" ")}if("string"!=typeof e)return e;var h=t.length;if(0===h)return e;for(var l="",c=0,f=-1,u=e&&e.length||0,d=0;d<u;){if(37===e.charCodeAt(d)&&d+1<u){switch(f=f>-1?f:0,e.charCodeAt(d+1)){case 100:case 102:if(c>=h||null==t[c])break;f<d&&(l+=e.slice(f,d)),l+=Number(t[c]),f=d+2,d++;break;case 105:if(c>=h||null==t[c])break;f<d&&(l+=e.slice(f,d)),l+=Math.floor(Number(t[c])),f=d+2,d++;break;case 79:case 111:case 106:if(c>=h||void 0===t[c])break;f<d&&(l+=e.slice(f,d));var p=typeof t[c];if("string"===p){l+="'"+t[c]+"'",f=d+2,d++;break}if("function"===p){l+=t[c].name||"<anonymous>",f=d+2,d++;break}l+=n(t[c]),f=d+2,d++;break;case 115:if(c>=h)break;f<d&&(l+=e.slice(f,d)),l+=String(t[c]),f=d+2,d++;break;case 37:f<d&&(l+=e.slice(f,d)),l+="%",f=d+2,d++,c--}++c}++d}return -1===f?e:(f<u&&(l+=e.slice(f)),l)}},710600,862570,736653,985927,596598,e=>{"use strict";let t;var r=e.i(679877),i=e.i(550483);class n{}e.s(["IEvents",()=>n],862570),e.s([],736653);class o extends n{constructor(e){super()}}let s=i.FIVE_SECONDS,a={pulse:"heartbeat_pulse"};class h extends o{constructor(e){super(e),this.events=new r.EventEmitter,this.interval=s,this.interval=e?.interval||s}static async init(e){let t=new h(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(a.pulse)}}e.s(["HEARTBEAT_EVENTS",()=>a,"HeartBeat",()=>h],710600);var l=e.i(632220),c=e.i(498921);function f(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function u(e){let t,r;if(t=typeof e,null===e||"object"!==t&&"function"!==t)return String(e);if(!(r=Object.getPrototypeOf(e))||r.isPrototypeOf(Object)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return u(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let d="base64:";function p(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function y(e){return(e=p(e))?e+":":""}function b(e={}){let t,r={mounts:{"":e.driver||(t=new Map,{name:"memory",getInstance:()=>t,hasItem:e=>t.has(e),getItem:e=>t.get(e)??null,getItemRaw:e=>t.get(e)??null,setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys:()=>[...t.keys()],clear(){t.clear()},dispose(){t.clear()}})},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},i=e=>{for(let t of r.mountpoints)if(e.startsWith(t))return{base:t,relativeKey:e.slice(t.length),driver:r.mounts[t]};return{base:"",relativeKey:e,driver:r.mounts[""]}},n=(e,t)=>r.mountpoints.filter(r=>r.startsWith(e)||t&&e.startsWith(r)).map(t=>({relativeBase:e.length>t.length?e.slice(t.length):void 0,mountpoint:t,driver:r.mounts[t]})),o=(e,t)=>{if(r.watching)for(let i of(t=p(t),r.watchListeners))i(e,t)},s=async()=>{if(!r.watching)for(let e in r.watching=!0,r.mounts)r.unwatch[e]=await g(r.mounts[e],o,e)},a=async()=>{if(r.watching){for(let e in r.unwatch)await r.unwatch[e]();r.unwatch={},r.watching=!1}},h=(e,t,r)=>{let n=new Map,o=e=>{let t=n.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},n.set(e.base,t)),t};for(let r of e){let e="string"==typeof r,n=p(e?r:r.key),s=e?void 0:r.value,a=e||!r.options?t:{...t,...r.options},h=i(n);o(h).items.push({key:n,value:s,relativeKey:h.relativeKey,options:a})}return Promise.all([...n.values()].map(e=>r(e))).then(e=>e.flat())},m={hasItem(e,t={}){let{relativeKey:r,driver:n}=i(e=p(e));return f(n.hasItem,r,t)},getItem(e,t={}){let{relativeKey:r,driver:n}=i(e=p(e));return f(n.getItem,r,t).then(e=>(0,l.default)(e))},getItems:(e,t={})=>h(e,t,e=>e.driver.getItems?f(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return p(e.join(":"))}(e.base,t.key),value:(0,l.default)(t.value)}))):Promise.all(e.items.map(t=>f(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:(0,l.default)(e)}))))),getItemRaw(e,t={}){let{relativeKey:r,driver:n}=i(e=p(e));return n.getItemRaw?f(n.getItemRaw,r,t):f(n.getItem,r,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(d)?(t=e.slice(d.length),globalThis.Buffer?c.Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,r={}){if(void 0===t)return m.removeItem(e);let{relativeKey:n,driver:s}=i(e=p(e));s.setItem&&(await f(s.setItem,n,u(t),r),s.watch||o("update",e))},async setItems(e,t){await h(e,t,async e=>{if(e.driver.setItems)return f(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:u(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>f(e.driver.setItem,t.relativeKey,u(t.value),t.options)))})},async setItemRaw(e,t,r={}){if(void 0===t)return m.removeItem(e,r);let{relativeKey:n,driver:s}=i(e=p(e));if(s.setItemRaw)await f(s.setItemRaw,n,t,r);else{var a;if(!s.setItem)return;await f(s.setItem,n,"string"==typeof t?t:d+(a=t,globalThis.Buffer?c.Buffer.from(a).toString("base64"):globalThis.btoa(String.fromCodePoint(...a))),r)}s.watch||o("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:r,driver:n}=i(e=p(e));n.removeItem&&(await f(n.removeItem,r,t),(t.removeMeta||t.removeMata)&&await f(n.removeItem,r+"$",t),n.watch||o("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:r,driver:n}=i(e=p(e)),o=Object.create(null);if(n.getMeta&&Object.assign(o,await f(n.getMeta,r,t)),!t.nativeOnly){let e=await f(n.getItem,r+"$",t).then(e=>(0,l.default)(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=n(e=y(e),!0),i=[],o=[],s=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(s=!1),await f(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+p(r);i.some(e=>t.startsWith(e))||o.push(t)}i=[e.mountpoint,...i.filter(t=>!t.startsWith(e.mountpoint))]}let a=void 0!==t.maxDepth&&!s;return o.filter(r=>{var i;return(!a||function(e,t){if(void 0===t)return!0;let r=0,i=e.indexOf(":");for(;i>-1;)r++,i=e.indexOf(":",i+1);return r<=t}(r,t.maxDepth))&&((i=e)?r.startsWith(i)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=y(e),await Promise.all(n(e,!1).map(async e=>e.driver.clear?f(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(r.mounts).map(e=>w(e)))},watch:async e=>(await s(),r.watchListeners.push(e),async()=>{r.watchListeners=r.watchListeners.filter(t=>t!==e),0===r.watchListeners.length&&await a()}),async unwatch(){r.watchListeners=[],await a()},mount(e,t){if((e=y(e))&&r.mounts[e])throw Error(`already mounted at ${e}`);return e&&(r.mountpoints.push(e),r.mountpoints.sort((e,t)=>t.length-e.length)),r.mounts[e]=t,r.watching&&Promise.resolve(g(t,o,e)).then(t=>{r.unwatch[e]=t}).catch(console.error),m},async unmount(e,t=!0){(e=y(e))&&r.mounts[e]&&(r.watching&&e in r.unwatch&&(r.unwatch[e]?.(),delete r.unwatch[e]),t&&await w(r.mounts[e]),r.mountpoints=r.mountpoints.filter(t=>t!==e),delete r.mounts[e])},getMount(e=""){let t=i(e=p(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>n(e=p(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>m.getKeys(e,t),get:(e,t={})=>m.getItem(e,t),set:(e,t,r={})=>m.setItem(e,t,r),has:(e,t={})=>m.hasItem(e,t),del:(e,t={})=>m.removeItem(e,t),remove:(e,t={})=>m.removeItem(e,t)};return m}function g(e,t,r){return e.watch?e.watch((e,i)=>t(e,r+i)):()=>{}}async function w(e){"function"==typeof e.dispose&&await f(e.dispose)}function m(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function v(e,t){let r;return(i,n)=>(()=>{if(r)return r;let i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),(r=m(i)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r})().then(e=>n(e.transaction(t,i).objectStore(t)))}function x(){return t||(t=v("keyval-store","keyval")),t}function E(e,t=x()){return t("readonly",t=>m(t.get(e)))}function S(e,t,r=x()){return r("readwrite",r=>(r.put(t,e),m(r.transaction)))}function A(e,t=x()){return t("readwrite",t=>(t.delete(e),m(t.transaction)))}function _(e=x()){return e("readwrite",e=>(e.clear(),m(e.transaction)))}function U(e=x()){return e("readonly",e=>{var t;if(e.getAllKeys)return m(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},m(e.transaction)).then(()=>r)})}e.s(["createStorage",()=>b],985927),e.s(["clear",()=>_,"createStore",()=>v,"del",()=>A,"get",()=>E,"keys",()=>U,"set",()=>S],596598)},404359,e=>{"use strict";var t=e.i(985927),r=e.i(596598),i=e.i(14526);class n{constructor(){this.indexedDb=(0,t.createStorage)({driver:((e={})=>{let t,i=e.base&&e.base.length>0?`${e.base}:`:"";return e.dbName&&e.storeName&&(t=(0,r.createStore)(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await (0,r.get)(i+e,t)>"u"),getItem:async e=>await (0,r.get)(i+e,t)??null,setItem:(e,n)=>(0,r.set)(i+e,n,t),removeItem:e=>(0,r.del)(i+e,t),getKeys:()=>(0,r.keys)(t),clear:()=>(0,r.clear)(t)}})({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,i.safeJsonStringify)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var o="u">typeof globalThis?globalThis:"u">typeof window?window:e.g,s={exports:{}};function a(e){var t;return[e[0],(0,i.safeJsonParse)(null!=(t=e[1])?t:"")]}function h(){}h.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},h.prototype.setItem=function(e,t){this[e]=String(t)},h.prototype.removeItem=function(e){delete this[e]},h.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},h.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},h.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof o&&o.localStorage?s.exports=o.localStorage:"u">typeof window&&window.localStorage?s.exports=window.localStorage:s.exports=new h;class l{constructor(){this.localStorage=s.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(a)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,i.safeJsonParse)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,i.safeJsonStringify)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let c=async(e,t,r)=>{let i="wc_storage_version",n=await t.getItem(i);if(n&&n>=1)return void r(t);let o=await e.getKeys();if(!o.length)return void r(t);let s=[];for(;o.length;){let r=o.shift();if(!r)continue;let i=r.toLowerCase();if(i.includes("wc@")||i.includes("walletconnect")||i.includes("wc_")||i.includes("wallet_connect")){let i=await e.getItem(r);await t.setItem(r,i),s.push(r)}}await t.setItem(i,1),r(t),f(e,s)},f=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class u{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new l;this.storage=e;try{const t=new n;c(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}e.s(["default",()=>u])},942595,(e,t,r)=>{"use strict";function i(){return(null===e.g||void 0===e.g?void 0:e.g.crypto)||(null===e.g||void 0===e.g?void 0:e.g.msCrypto)||{}}function n(){let e=i();return e.subtle||e.webkitSubtle}Object.defineProperty(r,"__esModule",{value:!0}),r.isBrowserCryptoAvailable=r.getSubtleCrypto=r.getBrowerCrypto=void 0,r.getBrowerCrypto=i,r.getSubtleCrypto=n,r.isBrowserCryptoAvailable=function(){return!!i()&&!!n()}},799623,(e,t,r)=>{"use strict";var i=e.i(914655);function n(){return"u"<typeof document&&"u">typeof navigator&&"ReactNative"===navigator.product}function o(){return void 0!==i.default&&void 0!==i.default.versions&&void 0!==i.default.versions.node}Object.defineProperty(r,"__esModule",{value:!0}),r.isBrowser=r.isNode=r.isReactNative=void 0,r.isReactNative=n,r.isNode=o,r.isBrowser=function(){return!n()&&!o()}},21318,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(658399);i.__exportStar(e.r(942595),r),i.__exportStar(e.r(799623),r)},528294,(e,t,r)=>{"use strict";t.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},130668,(e,t,r)=>{var i="u">typeof globalThis&&globalThis||"u">typeof self&&self||e.g,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();(function(t){var r=void 0!==n&&n||"u">typeof self&&self||e.g||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=f(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(d);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,i,n,o=f(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,r=u(t=new FileReader),n=(i=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?i[1]:"utf-8",t.readAsText(e,n),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=a(e),t=h(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[a(e)]},c.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},c.prototype.set=function(e,t){this.map[a(e)]=h(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(e,t){if(!(this instanceof g))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,n,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new c(t.headers)),this.method=(n=(i=t.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function w(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function m(e,t){if(!(this instanceof m))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var v=[301,302,303,307,308];m.redirect=function(e,t){if(-1===v.indexOf(t))throw RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,n){return new Promise(function(o,s){var l=new g(e,n);if(l.signal&&l.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var f=new XMLHttpRequest;function u(){f.abort()}if(f.onload=function(){var e,t,r={statusText:f.statusText,headers:(e=f.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();try{t.append(i,n)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(f.status<200||f.status>599)?r.status=200:r.status=f.status,r.url="responseURL"in f?f.responseURL:r.headers.get("X-Request-URL");var i="response"in f?f.response:f.responseText;setTimeout(function(){o(new m(i,r))},0)},f.onerror=function(){setTimeout(function(){s(TypeError("Network request failed"))},0)},f.ontimeout=function(){setTimeout(function(){s(TypeError("Network request timed out"))},0)},f.onabort=function(){setTimeout(function(){s(new t.DOMException("Aborted","AbortError"))},0)},f.open(l.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?f.withCredentials=!0:"omit"===l.credentials&&(f.withCredentials=!1),"responseType"in f&&(i.blob?f.responseType="blob":i.arrayBuffer&&(f.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof c||r.Headers&&n.headers instanceof r.Headers)){var d=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){d.push(a(e)),f.setRequestHeader(e,h(n.headers[e]))}),l.headers.forEach(function(e,t){-1===d.indexOf(t)&&f.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){f.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",u),f.onreadystatechange=function(){4===f.readyState&&l.signal.removeEventListener("abort",u)}),f.send(void 0===l._bodyInit?null:l._bodyInit)})}x.polyfill=!0,r.fetch||(r.fetch=x,r.Headers=c,r.Request=g,r.Response=m),t.Headers=c,t.Request=g,t.Response=m,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=i.fetch?i:n;(r=o.fetch).default=o.fetch,r.fetch=o.fetch,r.Headers=o.Headers,r.Request=o.Request,r.Response=o.Response,t.exports=r},409482,669941,139434,660075,327026,646274,e=>{"use strict";var t=e.i(679877);let r="INTERNAL_ERROR",i="SERVER_ERROR",n=[-32700,-32600,-32601,-32602,-32603],o={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[r]:{code:-32603,message:"Internal error"},[i]:{code:-32e3,message:"Server error"}};function s(e){return Object.keys(o).includes(e)?o[e]:o[i]}function a(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}var h=e.i(21318);function l(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function c(e=6){return BigInt(l(e))}function f(e,t,r){return{id:r||l(),jsonrpc:"2.0",method:e,params:t}}function u(e,t){return{id:e,jsonrpc:"2.0",result:t}}function d(e,t,a){var h,l,c,f;let u;return{id:e,jsonrpc:"2.0",error:(h=t,l=a,void 0===h?s(r):("string"==typeof h&&(h=Object.assign(Object.assign({},s(i)),{message:h})),void 0!==l&&(h.data=l),c=h.code,n.includes(c)&&(f=h.code,h=(u=Object.values(o).find(e=>e.code===f))||o[i]),h))}}h.isNode,e.s(["formatJsonRpcError",()=>d,"formatJsonRpcRequest",()=>f,"formatJsonRpcResult",()=>u,"getBigIntRpcId",()=>c,"payloadId",()=>l],669941);class p{}class y extends p{constructor(){super()}}class b extends y{constructor(e){super()}}function g(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function w(e){return g(e,"^https?:")}function m(e){return g(e,"^wss?:")}function v(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function x(e){return v(e)&&"method"in e}function E(e){return v(e)&&(S(e)||A(e))}function S(e){return"result"in e}function A(e){return"error"in e}e.s(["isJsonRpcError",()=>A,"isJsonRpcRequest",()=>x,"isJsonRpcResponse",()=>E,"isJsonRpcResult",()=>S],139434),e.s([],660075);class _ extends b{constructor(e){super(e),this.events=new t.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(f(e.method,e.params||[],e.id||c().toString()),t)}async requestStrict(e,t){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(e){i(e)}this.events.on(`${e.id}`,e=>{A(e)?i(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){i(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),E(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}e.s(["JsonRpcProvider",()=>_],409482);var U=e.i(14526);let I=e=>e.split("?")[0],O="u">typeof WebSocket?WebSocket:"u">typeof e.g.WebSocket?e.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:e.r(528294);class B{constructor(e){if(this.url=e,this.events=new t.EventEmitter,this.registering=!1,!m(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,U.safeJsonStringify)(e))}catch(t){this.onError(e.id,t)}}register(t=this.url){if(!m(t))throw Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,i)=>{let n=(0,h.isReactNative)()?void 0:{rejectUnauthorized:!RegExp("wss?://localhost(:d{2,5})?").test(t)},o=new O(t,[],n);"u">typeof WebSocket||"u">typeof e.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket?o.onerror=e=>{i(this.emitError(e.error))}:o.on("error",e=>{i(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,U.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),i=d(e,r.message||r.toString());this.events.emit("payload",i)}parseError(e,t=this.url){return a(e,I(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${I(this.url)}`));return this.events.emit("register_error",t),t}}e.s(["default",()=>B],327026);var T=e.i(130668),C=Object.defineProperty,P=Object.defineProperties,k=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,D=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M=(e,t)=>{for(var r in t||(t={}))N.call(t,r)&&D(e,r,t[r]);if(L)for(var r of L(t))R.call(t,r)&&D(e,r,t[r]);return e};let j={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class z{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new t.EventEmitter,this.isAvailable=!1,this.registering=!1,!w(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t,r,i=(0,U.safeJsonStringify)(e),n=await (await (0,T.default)(this.url,(t=M({},j),r={body:i},P(t,k(r))))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!w(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t,r,i=(0,U.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});await (0,T.default)(e,(t=M({},j),r={body:i},P(t,k(r))))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,U.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),i=d(e,r.message||r.toString());this.events.emit("payload",i)}parseError(e,t=this.url){return a(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}e.s(["HttpConnection",()=>z,"default",()=>z],646274)}]);