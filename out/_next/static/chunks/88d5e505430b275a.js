(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,691376,(e,t,a)=>{"use strict";function s({widthInt:e,heightInt:t,blurWidth:a,blurHeight:s,blurDataURL:r,objectFit:l}){let i=a?40*a:e,n=s?40*s:t,o=i&&n?`viewBox='0 0 ${i} ${n}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${o}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${o?"none":"contain"===l?"xMidYMid":"cover"===l?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${r}'/%3E%3C/svg%3E`}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"getImageBlurSvg",{enumerable:!0,get:function(){return s}})},963977,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={VALID_LOADERS:function(){return l},imageConfigDefault:function(){return i}};for(var r in s)Object.defineProperty(a,r,{enumerable:!0,get:s[r]});let l=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,maximumResponseBody:5e7,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},809698,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"getImgProps",{enumerable:!0,get:function(){return c}}),e.r(920570);let s=e.r(19210),r=e.r(691376),l=e.r(963977),i=["-moz-initial","fill","none","scale-down",void 0];function n(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function c({src:e,sizes:t,unoptimized:a=!1,priority:c=!1,preload:d=!1,loading:x,className:u,quality:p,width:f,height:m,fill:b=!1,style:h,overrideSrc:g,onLoad:y,onLoadingComplete:j,placeholder:v="empty",blurDataURL:N,fetchPriority:w,decoding:k="async",layout:S,objectFit:C,objectPosition:_,lazyBoundary:M,lazyRoot:$,...P},E){var R;let z,O,F,{imgConf:I,showAltText:Q,blurComplete:T,defaultLoader:A}=E,L=I||l.imageConfigDefault;if("allSizes"in L)z=L;else{let e=[...L.deviceSizes,...L.imageSizes].sort((e,t)=>e-t),t=L.deviceSizes.sort((e,t)=>e-t),a=L.qualities?.sort((e,t)=>e-t);z={...L,allSizes:e,deviceSizes:t,qualities:a}}if(void 0===A)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let D=P.loader||A;delete P.loader,delete P.srcSet;let G="__next_img_default"in D;if(G){if("custom"===z.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=D;D=t=>{let{config:a,...s}=t;return e(s)}}if(S){"fill"===S&&(b=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[S];e&&(h={...h,...e});let a={responsive:"100vw",fill:"100vw"}[S];a&&!t&&(t=a)}let W="",B=o(f),Y=o(m);if((R=e)&&"object"==typeof R&&(n(R)||void 0!==R.src)){let t=n(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(O=t.blurWidth,F=t.blurHeight,N=N||t.blurDataURL,W=t.src,!b)if(B||Y){if(B&&!Y){let e=B/t.width;Y=Math.round(t.height*e)}else if(!B&&Y){let e=Y/t.height;B=Math.round(t.width*e)}}else B=t.width,Y=t.height}let X=!c&&!d&&("lazy"===x||void 0===x);(!(e="string"==typeof e?e:W)||e.startsWith("data:")||e.startsWith("blob:"))&&(a=!0,X=!1),z.unoptimized&&(a=!0),G&&!z.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(a=!0);let q=o(p),U=Object.assign(b?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:C,objectPosition:_}:{},Q?{}:{color:"transparent"},h),J=T||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,r.getImageBlurSvg)({widthInt:B,heightInt:Y,blurWidth:O,blurHeight:F,blurDataURL:N||"",objectFit:U.objectFit})}")`:`url("${v}")`,V=i.includes(U.objectFit)?"fill"===U.objectFit?"100% 100%":"cover":U.objectFit,Z=J?{backgroundSize:V,backgroundPosition:U.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:J}:{},H=function({config:e,src:t,unoptimized:a,width:r,quality:l,sizes:i,loader:n}){if(a){let e=(0,s.getDeploymentId)();if(t.startsWith("/")&&!t.startsWith("//")&&e){let a=t.includes("?")?"&":"?";t=`${t}${a}dpl=${e}`}return{src:t,srcSet:void 0,sizes:void 0}}let{widths:o,kind:c}=function({deviceSizes:e,allSizes:t},a,s){if(s){let a=/(^|\s)(1?\d?\d)vw/g,r=[];for(let e;e=a.exec(s);)r.push(parseInt(e[2]));if(r.length){let a=.01*Math.min(...r);return{widths:t.filter(t=>t>=e[0]*a),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof a?{widths:e,kind:"w"}:{widths:[...new Set([a,2*a].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,r,i),d=o.length-1;return{sizes:i||"w"!==c?i:"100vw",srcSet:o.map((a,s)=>`${n({config:e,src:t,quality:l,width:a})} ${"w"===c?a:s+1}${c}`).join(", "),src:n({config:e,src:t,quality:l,width:o[d]})}}({config:z,src:e,unoptimized:a,width:B,quality:q,sizes:t,loader:D}),K=X?"lazy":x;return{props:{...P,loading:K,fetchPriority:w,width:B,height:Y,decoding:k,className:u,style:{...U,...Z},sizes:H.sizes,srcSet:H.srcSet,src:g||H.src},meta:{unoptimized:a,preload:d||c,placeholder:v,fill:b}}}},644246,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return n}});let s=e.r(505034),r="u"<typeof window,l=r?()=>{}:s.useLayoutEffect,i=r?()=>{}:s.useEffect;function n(e){let{headManager:t,reduceComponentsToState:a}=e;function n(){if(t&&t.mountedInstances){let e=s.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(a(e))}}return r&&(t?.mountedInstances?.add(e.children),n()),l(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),l(()=>(t&&(t._pendingUpdate=n),()=>{t&&(t._pendingUpdate=n)})),i(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},971281,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={default:function(){return m},defaultHead:function(){return x}};for(var r in s)Object.defineProperty(a,r,{enumerable:!0,get:s[r]});let l=e.r(481258),i=e.r(744066),n=e.r(14270),o=i._(e.r(505034)),c=l._(e.r(644246)),d=e.r(362402);function x(){return[(0,n.jsx)("meta",{charSet:"utf-8"},"charset"),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function u(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(920570);let p=["name","httpEquiv","charSet","itemProp"];function f(e){let t,a,s,r;return e.reduce(u,[]).reverse().concat(x().reverse()).filter((t=new Set,a=new Set,s=new Set,r={},e=>{let l=!0,i=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){i=!0;let a=e.key.slice(e.key.indexOf("$")+1);t.has(a)?l=!1:t.add(a)}switch(e.type){case"title":case"base":a.has(e.type)?l=!1:a.add(e.type);break;case"meta":for(let t=0,a=p.length;t<a;t++){let a=p[t];if(e.props.hasOwnProperty(a))if("charSet"===a)s.has(a)?l=!1:s.add(a);else{let t=e.props[a],s=r[a]||new Set;("name"!==a||!i)&&s.has(t)?l=!1:(s.add(t),r[a]=s)}}}return l})).reverse().map((e,t)=>{let a=e.key||t;return o.default.cloneElement(e,{key:a})})}let m=function({children:e}){let t=(0,o.useContext)(d.HeadManagerContext);return(0,n.jsx)(c.default,{reduceComponentsToState:f,headManager:t,children:e})};("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},648741,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ImageConfigContext",{enumerable:!0,get:function(){return l}});let s=e.r(481258)._(e.r(505034)),r=e.r(963977),l=s.default.createContext(r.imageConfigDefault)},3565,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RouterContext",{enumerable:!0,get:function(){return s}});let s=e.r(481258)._(e.r(505034)).default.createContext(null)},706747,(e,t,a)=>{"use strict";function s(e,t){let a=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-a)<Math.abs(e-a)?t:e,0):a}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"findClosestQuality",{enumerable:!0,get:function(){return s}})},631565,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return i}});let s=e.r(706747),r=e.r(19210);function l({config:e,src:t,width:a,quality:l}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let i=(0,s.findClosestQuality)(l,e),n=(0,r.getDeploymentId)();return`${e.path}?url=${encodeURIComponent(t)}&w=${a}&q=${i}${t.startsWith("/")&&n?`&dpl=${n}`:""}`}l.__next_img_default=!0;let i=l},527929,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useMergedRef",{enumerable:!0,get:function(){return r}});let s=e.r(505034);function r(e,t){let a=(0,s.useRef)(null),r=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=a.current;e&&(a.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(a.current=l(e,s)),t&&(r.current=l(t,s))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let a=e(t);return"function"==typeof a?a:()=>e(null)}}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},549439,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"Image",{enumerable:!0,get:function(){return j}});let s=e.r(481258),r=e.r(744066),l=e.r(14270),i=r._(e.r(505034)),n=s._(e.r(181409)),o=s._(e.r(971281)),c=e.r(809698),d=e.r(963977),x=e.r(648741);e.r(920570);let u=e.r(3565),p=s._(e.r(631565)),f=e.r(527929),m={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function b(e,t,a,s,r,l,i){let n=e?.src;e&&e["data-loaded-src"]!==n&&(e["data-loaded-src"]=n,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&r(!0),a?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let s=!1,r=!1;a.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>s,isPropagationStopped:()=>r,persist:()=>{},preventDefault:()=>{s=!0,t.preventDefault()},stopPropagation:()=>{r=!0,t.stopPropagation()}})}s?.current&&s.current(e)}}))}function h(e){return i.use?{fetchPriority:e}:{fetchpriority:e}}"u"<typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let g=(0,i.forwardRef)(({src:e,srcSet:t,sizes:a,height:s,width:r,decoding:n,className:o,style:c,fetchPriority:d,placeholder:x,loading:u,unoptimized:p,fill:m,onLoadRef:g,onLoadingCompleteRef:y,setBlurComplete:j,setShowAltText:v,sizesInput:N,onLoad:w,onError:k,...S},C)=>{let _=(0,i.useCallback)(e=>{e&&(k&&(e.src=e.src),e.complete&&b(e,x,g,y,j,p,N))},[e,x,g,y,j,k,p,N]),M=(0,f.useMergedRef)(C,_);return(0,l.jsx)("img",{...S,...h(d),loading:u,width:r,height:s,decoding:n,"data-nimg":m?"fill":"1",className:o,style:c,sizes:a,srcSet:t,src:e,ref:M,onLoad:e=>{b(e.currentTarget,x,g,y,j,p,N)},onError:e=>{v(!0),"empty"!==x&&j(!0),k&&k(e)}})});function y({isAppRouter:e,imgAttributes:t}){let a={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...h(t.fetchPriority)};return e&&n.default.preload?(n.default.preload(t.src,a),null):(0,l.jsx)(o.default,{children:(0,l.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...a},"__nimg-"+t.src+t.srcSet+t.sizes)})}let j=(0,i.forwardRef)((e,t)=>{let a=(0,i.useContext)(u.RouterContext),s=(0,i.useContext)(x.ImageConfigContext),r=(0,i.useMemo)(()=>{let e=m||s||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),a=e.deviceSizes.sort((e,t)=>e-t),r=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:a,qualities:r,localPatterns:"u"<typeof window?s?.localPatterns:e.localPatterns}},[s]),{onLoad:n,onLoadingComplete:o}=e,f=(0,i.useRef)(n);(0,i.useEffect)(()=>{f.current=n},[n]);let b=(0,i.useRef)(o);(0,i.useEffect)(()=>{b.current=o},[o]);let[h,j]=(0,i.useState)(!1),[v,N]=(0,i.useState)(!1),{props:w,meta:k}=(0,c.getImgProps)(e,{defaultLoader:p.default,imgConf:r,blurComplete:h,showAltText:v});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g,{...w,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:f,onLoadingCompleteRef:b,setBlurComplete:j,setShowAltText:N,sizesInput:e.sizes,ref:t}),k.preload?(0,l.jsx)(y,{isAppRouter:!a,imgAttributes:w}):null]})});("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},448098,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={default:function(){return d},getImageProps:function(){return c}};for(var r in s)Object.defineProperty(a,r,{enumerable:!0,get:s[r]});let l=e.r(481258),i=e.r(809698),n=e.r(549439),o=l._(e.r(631565));function c(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let d=n.Image},662253,(e,t,a)=>{t.exports=e.r(448098)},242462,(e,t,a)=>{},696268,(e,t,a)=>{var s=e.i(914655);e.r(242462);var r=e.r(505034),l=r&&"object"==typeof r&&"default"in r?r:{default:r},i=void 0!==s.default&&s.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,a=t.name,s=void 0===a?"stylesheet":a,r=t.optimizeForSpeed,l=void 0===r?i:r;c(n(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",c("boolean"==typeof l,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,a=e.prototype;return a.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},a.isOptimizeForSpeed=function(){return this._optimizeForSpeed},a.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},a.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},a.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},a.insertRule=function(e,t){if(c(n(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},a.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var a="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(s){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];c(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},a.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},a.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},a.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},a.makeStyleTag=function(e,t,a){t&&c(n(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return a?r.insertBefore(s,a):r.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},x={};function u(e,t){if(!t)return"jsx-"+e;var a=String(t),s=e+a;return x[s]||(x[s]="jsx-"+d(e+"-"+a)),x[s]}function p(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var a=e+t;return x[a]||(x[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),x[a]}var f=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,s=void 0===a?null:a,r=t.optimizeForSpeed,l=void 0!==r&&r;this._sheet=s||new o({name:"styled-jsx",optimizeForSpeed:l}),this._sheet.inject(),s&&"boolean"==typeof l&&(this._sheet.setOptimizeForSpeed(l),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),s=a.styleId,r=a.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var l=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=l,this._instancesCounts[s]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var s=this._fromServer&&this._fromServer[a];s?(s.parentNode.removeChild(s),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],s=e[1];return l.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,s=e.id;if(a){var r=u(s,a);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return p(r,e)}):[p(r,t)]}}return{styleId:u(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=r.createContext(null);function b(){return new f}function h(){return r.useContext(m)}m.displayName="StyleSheetContext";var g=l.default.useInsertionEffect||l.default.useLayoutEffect,y="u">typeof window?b():void 0;function j(e){var t=y||h();return t&&("u"<typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}j.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},a.StyleRegistry=function(e){var t=e.registry,a=e.children,s=r.useContext(m),i=r.useState(function(){return s||t||b()})[0];return l.default.createElement(m.Provider,{value:i},a)},a.createStyleRegistry=b,a.style=j,a.useStyleRegistry=h},126543,(e,t,a)=>{t.exports=e.r(696268).style},331713,e=>{"use strict";var t=e.i(14270),a=e.i(505034),s=e.i(662253);let r={hair:0,eyeColor:"#4a9eff",skinTone:"#fae4d8",outfit:0},l=["Corto","Largo","Puntas","Coletas"],i=["Cyber Suit","Hoodie Tech","Armadura","Vestido Digital"],n=[{value:"#4a9eff",label:"Azul"},{value:"#9c7cf4",label:"Violeta"},{value:"#00bcd4",label:"Aqua"},{value:"#e0457b",label:"Rosa"},{value:"#40aa40",label:"Verde"},{value:"#ff8c00",label:"Ãmbar"}],o=[{value:"#fae4d8",label:"Claro"},{value:"#e8b896",label:"Medio"},{value:"#c68c5a",label:"Moreno"},{value:"#8d5e3c",label:"Oscuro"}],c={femenino:{0:"/images/outfits/f-cyber-suit.webp",1:"/images/outfits/f-hoodie.webp",2:"/images/outfits/f-armor.webp",3:"/images/outfits/f-dress.webp"},masculino:{0:"/images/outfits/m-cyber-suit.webp",1:"/images/outfits/m-hoodie.webp",2:"/images/outfits/m-armor.webp",3:"/images/outfits/m-dress.webp"},"sin-genero":{0:"/images/outfits/n-cyber-suit.webp",1:"/images/outfits/n-hoodie.webp",2:"/images/outfits/n-armor.webp",3:"/images/outfits/n-dress.webp"}};function d({parts:e,energyColor:a,identity:r,size:l=200,className:i=""}){let{outfit:n}=e,o=c[r]??c.femenino,d=o[n]??o[0];return(0,t.jsx)("div",{className:`relative ${i}`,children:(0,t.jsx)("div",{className:"relative overflow-hidden rounded-2xl",style:{width:l,height:1.5*l},children:(0,t.jsx)(s.default,{src:d,alt:`Avatar ${r}`,width:l,height:1.5*l,className:"h-full w-full object-contain drop-shadow-lg",priority:!0})})})}function x({type:e,color:a,size:s=32,className:r="",glow:l=!1}){let i=l?"url(#powerGlow)":void 0;return(0,t.jsxs)("svg",{viewBox:"0 0 64 64",width:s,height:s,className:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("filter",{id:"powerGlow",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"3",result:"b"}),(0,t.jsxs)("feMerge",{children:[(0,t.jsx)("feMergeNode",{in:"b"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,t.jsxs)("linearGradient",{id:`pg-${e}`,x1:"0",y1:"0",x2:"0.3",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:m(a,40)}),(0,t.jsx)("stop",{offset:"50%",stopColor:a}),(0,t.jsx)("stop",{offset:"100%",stopColor:f(a,30)})]}),(0,t.jsxs)("radialGradient",{id:`prg-${e}`,cx:"0.4",cy:"0.35",r:"0.55",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:m(a,50)}),(0,t.jsx)("stop",{offset:"100%",stopColor:a})]})]}),"water"===e&&(0,t.jsxs)("g",{filter:i,children:[(0,t.jsx)("path",{d:"M32 8 Q32 8 20 32 Q14 44 20 52 Q26 60 32 60 Q38 60 44 52 Q50 44 44 32 Q32 8 32 8Z",fill:`url(#pg-${e})`}),(0,t.jsx)("path",{d:"M32 16 Q28 28 24 38 Q20 46 24 52 Q28 56 32 56",fill:"none",stroke:m(a,50),strokeWidth:"1.5",opacity:"0.4"}),(0,t.jsx)("ellipse",{cx:"27",cy:"36",rx:"3",ry:"5",fill:"white",opacity:"0.35",transform:"rotate(-15 27 36)"}),(0,t.jsx)("path",{d:"M28 42 L24 42 L24 48",stroke:m(a,30),strokeWidth:"0.8",fill:"none",opacity:"0.5"}),(0,t.jsx)("path",{d:"M36 38 L40 38 L40 44 L36 44",stroke:m(a,30),strokeWidth:"0.8",fill:"none",opacity:"0.5"}),(0,t.jsx)("circle",{cx:"24",cy:"48",r:"1.2",fill:m(a,40),opacity:"0.6"}),(0,t.jsx)("circle",{cx:"36",cy:"44",r:"1.2",fill:m(a,40),opacity:"0.6"}),(0,t.jsx)("ellipse",{cx:"32",cy:"38",rx:"16",ry:"20",fill:"none",stroke:a,strokeWidth:"0.5",opacity:"0.2",strokeDasharray:"3 3"})]}),"fire"===e&&(0,t.jsxs)("g",{filter:i,children:[(0,t.jsx)("path",{d:"M32 6 Q38 18 42 26 Q48 34 46 44 Q44 54 38 58 Q34 60 32 60 Q30 60 26 58 Q20 54 18 44 Q16 34 22 26 Q26 18 32 6Z",fill:`url(#pg-${e})`}),(0,t.jsx)("path",{d:"M32 22 Q36 30 38 36 Q40 42 38 48 Q36 52 32 54 Q28 52 26 48 Q24 42 26 36 Q28 30 32 22Z",fill:m(a,30),opacity:"0.7"}),(0,t.jsx)("path",{d:"M32 34 Q34 38 34 42 Q34 46 32 48 Q30 46 30 42 Q30 38 32 34Z",fill:m(a,60),opacity:"0.8"}),(0,t.jsx)("ellipse",{cx:"27",cy:"34",rx:"2",ry:"4",fill:"white",opacity:"0.25",transform:"rotate(-10 27 34)"}),(0,t.jsx)("line",{x1:"20",y1:"36",x2:"14",y2:"32",stroke:m(a,40),strokeWidth:"0.8",opacity:"0.5"}),(0,t.jsx)("line",{x1:"44",y1:"36",x2:"50",y2:"32",stroke:m(a,40),strokeWidth:"0.8",opacity:"0.5"}),(0,t.jsx)("circle",{cx:"14",cy:"32",r:"1",fill:m(a,40),opacity:"0.5"}),(0,t.jsx)("circle",{cx:"50",cy:"32",r:"1",fill:m(a,40),opacity:"0.5"}),(0,t.jsx)("path",{d:"M28 4 Q30 0 32 4",stroke:m(a,30),strokeWidth:"0.6",fill:"none",opacity:"0.3"}),(0,t.jsx)("path",{d:"M34 2 Q36 -2 38 2",stroke:m(a,30),strokeWidth:"0.6",fill:"none",opacity:"0.2"})]}),"earth"===e&&(0,t.jsxs)("g",{filter:i,children:[(0,t.jsx)("path",{d:"M32 60 Q32 48 30 40 Q28 34 32 28",stroke:f(a,20),strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M30 42 Q26 38 22 36",stroke:f(a,15),strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M32 28 Q42 18 48 12 Q50 18 48 26 Q44 34 32 28Z",fill:`url(#prg-${e})`}),(0,t.jsx)("path",{d:"M34 26 Q40 20 46 15",stroke:f(a,10),strokeWidth:"0.6",fill:"none",opacity:"0.4"}),(0,t.jsx)("path",{d:"M30 34 Q20 26 14 22 Q14 28 18 34 Q22 40 30 34Z",fill:`url(#pg-${e})`,opacity:"0.85"}),(0,t.jsx)("path",{d:"M28 33 Q22 28 16 24",stroke:f(a,10),strokeWidth:"0.6",fill:"none",opacity:"0.4"}),(0,t.jsx)("path",{d:"M22 36 Q16 32 14 28 Q18 30 22 36Z",fill:m(a,20),opacity:"0.5"}),(0,t.jsx)("ellipse",{cx:"40",cy:"20",rx:"2.5",ry:"4",fill:"white",opacity:"0.25",transform:"rotate(-30 40 20)"}),(0,t.jsx)("path",{d:"M48 28 L52 28 L52 32",stroke:m(a,30),strokeWidth:"0.8",fill:"none",opacity:"0.4"}),(0,t.jsx)("path",{d:"M14 34 L10 34 L10 30",stroke:m(a,30),strokeWidth:"0.8",fill:"none",opacity:"0.4"}),(0,t.jsx)("circle",{cx:"52",cy:"32",r:"1",fill:m(a,40),opacity:"0.5"}),(0,t.jsx)("circle",{cx:"10",cy:"30",r:"1",fill:m(a,40),opacity:"0.5"}),(0,t.jsx)("circle",{cx:"28",cy:"58",r:"1.5",fill:f(a,10),opacity:"0.3"}),(0,t.jsx)("circle",{cx:"36",cy:"60",r:"1",fill:f(a,10),opacity:"0.25"})]})]})}function u(e){let t=e.replace("#","");return{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}}function p(e,t,a){return`#${[e,t,a].map(e=>Math.max(0,Math.min(255,Math.round(e))).toString(16).padStart(2,"0")).join("")}`}function f(e,t){let{r:a,g:s,b:r}=u(e);return p(a-t,s-t,r-t)}function m(e,t){let{r:a,g:s,b:r}=u(e);return p(a+t,s+t,r+t)}var b=e.i(126543);function h({active:e}){let[s,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),n=(0,a.useMemo)(()=>Array.from({length:50},(e,t)=>({id:t,x:100*Math.random(),delay:2*Math.random(),duration:.6+.8*Math.random(),opacity:.15+.35*Math.random(),width:1+1.5*Math.random()})),[]),o=(0,a.useMemo)(()=>Array.from({length:12},(e,t)=>({id:t,x:10+80*Math.random(),y:10+80*Math.random(),size:2+4*Math.random(),delay:4*Math.random(),duration:1.5+2*Math.random()})),[]);return((0,a.useEffect)(()=>{if(!e){r(!1),i(!1);return}r(!0),i(!0);let t=setTimeout(()=>{r(!1)},3e4);return()=>clearTimeout(t)},[e]),e||l)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.default,{id:"1c051a7282765529",children:"@keyframes rainFall{0%{opacity:0;transform:translateY(-20px)}10%{opacity:var(--rain-opacity)}90%{opacity:var(--rain-opacity)}to{opacity:0;transform:translateY(calc(100% + 20px))}}@keyframes waterDropFloat{0%,to{transform:translateY(0)scale(1)}50%{transform:translateY(-6px)scale(1.05)}}@keyframes waterDropAppear{0%{opacity:0;transform:scale(0)translateY(10px)}50%{opacity:1;transform:scale(1.2)translateY(-3px)}to{opacity:1;transform:scale(1)translateY(0)}}@keyframes sparkle{0%,to{opacity:0;transform:scale(.5)}50%{opacity:var(--sparkle-opacity);transform:scale(1)}}@keyframes ripple{0%{opacity:.5;transform:scale(.8)}to{opacity:0;transform:scale(2.5)}}@keyframes shimmer{0%{background-position:-200%}to{background-position:200%}}@keyframes rainFadeOut{0%{opacity:1}to{opacity:0}}"}),(0,t.jsxs)("div",{style:{zIndex:0,opacity:+!!s,transition:"opacity 2s ease-out"},className:"jsx-1c051a7282765529 pointer-events-none absolute inset-0 overflow-hidden rounded-xl",children:[n.map(e=>(0,t.jsx)("div",{style:{left:`${e.x}%`,width:`${e.width}px`,height:"18px",background:`linear-gradient(180deg, transparent, rgba(120, 220, 255, ${e.opacity}), transparent)`,borderRadius:"2px","--rain-opacity":e.opacity,animation:`rainFall ${e.duration}s linear ${e.delay}s infinite`},className:"jsx-1c051a7282765529 absolute top-0"},e.id)),(0,t.jsx)("div",{style:{background:"linear-gradient(180deg, transparent, rgba(0, 188, 212, 0.08))"},className:"jsx-1c051a7282765529 absolute bottom-0 left-0 right-0 h-1/4"}),o.map(e=>(0,t.jsx)("div",{style:{left:`${e.x}%`,top:`${e.y}%`,width:e.size,height:e.size,background:"radial-gradient(circle, rgba(180, 240, 255, 0.9), rgba(0, 188, 212, 0.4))","--sparkle-opacity":.6,animation:`sparkle ${e.duration}s ease-in-out ${e.delay}s infinite`},className:"jsx-1c051a7282765529 absolute rounded-full"},e.id))]}),l&&(0,t.jsx)("div",{style:{zIndex:20,right:"15%",top:"55%",animation:l?"waterDropAppear 0.8s ease-out forwards":void 0},className:"jsx-1c051a7282765529 pointer-events-none absolute",children:(0,t.jsxs)("div",{style:{animation:"waterDropFloat 3s ease-in-out infinite"},className:"jsx-1c051a7282765529",children:[(0,t.jsxs)("svg",{viewBox:"0 0 48 64",width:"28",height:"38",xmlns:"http://www.w3.org/2000/svg",className:"jsx-1c051a7282765529",children:[(0,t.jsxs)("defs",{className:"jsx-1c051a7282765529",children:[(0,t.jsxs)("linearGradient",{id:"wdGrad",x1:"0.2",y1:"0",x2:"0.8",y2:"1",className:"jsx-1c051a7282765529",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#b0f0ff",className:"jsx-1c051a7282765529"}),(0,t.jsx)("stop",{offset:"40%",stopColor:"#00bcd4",className:"jsx-1c051a7282765529"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#00838f",className:"jsx-1c051a7282765529"})]}),(0,t.jsxs)("radialGradient",{id:"wdShine",cx:"0.35",cy:"0.3",r:"0.4",className:"jsx-1c051a7282765529",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"white",stopOpacity:"0.6",className:"jsx-1c051a7282765529"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"white",stopOpacity:"0",className:"jsx-1c051a7282765529"})]}),(0,t.jsxs)("filter",{id:"wdGlow",className:"jsx-1c051a7282765529",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"3",result:"b",className:"jsx-1c051a7282765529"}),(0,t.jsxs)("feMerge",{className:"jsx-1c051a7282765529",children:[(0,t.jsx)("feMergeNode",{in:"b",className:"jsx-1c051a7282765529"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic",className:"jsx-1c051a7282765529"})]})]})]}),(0,t.jsx)("ellipse",{cx:"24",cy:"38",rx:"14",ry:"18",fill:"rgba(0, 188, 212, 0.15)",filter:"url(#wdGlow)",className:"jsx-1c051a7282765529"}),(0,t.jsx)("path",{d:"M24 4 Q24 4 14 28 Q8 40 14 50 Q20 58 24 58 Q28 58 34 50 Q40 40 34 28 Q24 4 24 4Z",fill:"url(#wdGrad)",className:"jsx-1c051a7282765529"}),(0,t.jsx)("path",{d:"M24 12 Q20 24 16 34 Q12 42 16 50 Q20 54 24 54",fill:"none",stroke:"rgba(180, 240, 255, 0.5)",strokeWidth:"1.5",className:"jsx-1c051a7282765529"}),(0,t.jsx)("ellipse",{cx:"19",cy:"30",rx:"4",ry:"8",fill:"url(#wdShine)",transform:"rotate(-15 19 30)",className:"jsx-1c051a7282765529"}),(0,t.jsx)("path",{d:"M20 38 L16 38 L16 44",stroke:"rgba(180, 240, 255, 0.4)",strokeWidth:"0.7",fill:"none",className:"jsx-1c051a7282765529"}),(0,t.jsx)("circle",{cx:"16",cy:"44",r:"1",fill:"rgba(180, 240, 255, 0.5)",className:"jsx-1c051a7282765529"}),(0,t.jsx)("circle",{cx:"28",cy:"24",r:"1.5",fill:"white",opacity:"0.5",className:"jsx-1c051a7282765529",children:(0,t.jsx)("animate",{attributeName:"opacity",values:"0.5;0.2;0.5",dur:"2s",repeatCount:"indefinite",className:"jsx-1c051a7282765529"})})]}),(0,t.jsx)("div",{className:"jsx-1c051a7282765529 absolute -bottom-1 left-1/2 -translate-x-1/2",children:(0,t.jsx)("div",{style:{background:"radial-gradient(ellipse, rgba(0, 188, 212, 0.3), transparent)",animation:"ripple 2s ease-out infinite"},className:"jsx-1c051a7282765529 h-3 w-8 rounded-full"})})]})})]}):null}function g({active:e}){let[s,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),n=(0,a.useMemo)(()=>Array.from({length:35},(e,t)=>({id:t,x:15+70*Math.random(),size:2+4*Math.random(),delay:3*Math.random(),duration:1.2+1.8*Math.random(),opacity:.3+.5*Math.random(),drift:-15+30*Math.random()})),[]),o=(0,a.useMemo)(()=>Array.from({length:15},(e,t)=>({id:t,x:10+80*Math.random(),y:30+60*Math.random(),size:1.5+3*Math.random(),delay:5*Math.random(),duration:2+3*Math.random()})),[]);return((0,a.useEffect)(()=>{if(!e){r(!1),i(!1);return}r(!0),i(!0);let t=setTimeout(()=>{r(!1)},3e4);return()=>clearTimeout(t)},[e]),e||l)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.default,{id:"b7778fa8d3fbb56d",children:"@keyframes sparkRise{0%{opacity:0;transform:translateY(0)translate(0)scale(1)}15%{opacity:var(--spark-opacity)}85%{opacity:var(--spark-opacity)}to{transform:translateY(-120px)translateX(var(--spark-drift))scale(.2);opacity:0}}@keyframes emberGlow{0%,to{opacity:0;transform:scale(.6)}30%{opacity:var(--ember-opacity,.5);transform:scale(1)}70%{opacity:var(--ember-opacity,.5);transform:scale(.9)}}@keyframes flameFlicker{0%,to{transform:translateY(0)scaleX(1)scaleY(1)}25%{transform:translateY(-2px)scaleX(.95)scaleY(1.05)}50%{transform:translateY(-4px)scaleX(1.03)scaleY(.97)}75%{transform:translateY(-1px)scaleX(.97)scaleY(1.02)}}@keyframes flameAppear{0%{opacity:0;transform:scale(0)translateY(10px)}50%{opacity:1;transform:scale(1.15)translateY(-3px)}to{opacity:1;transform:scale(1)translateY(0)}}@keyframes heatWave{0%,to{opacity:.06;transform:scaleY(1)}50%{opacity:.12;transform:scaleY(1.05)}}@keyframes innerFlame{0%,to{opacity:.7;transform:scaleX(1)scaleY(1)}33%{opacity:.8;transform:scaleX(.9)scaleY(1.08)}66%{opacity:.65;transform:scaleX(1.05)scaleY(.95)}}"}),(0,t.jsxs)("div",{style:{zIndex:0,opacity:+!!s,transition:"opacity 2s ease-out"},className:"jsx-b7778fa8d3fbb56d pointer-events-none absolute inset-0 overflow-hidden rounded-xl",children:[(0,t.jsx)("div",{style:{background:"radial-gradient(ellipse 70% 60% at 50% 70%, rgba(255, 87, 34, 0.12), rgba(255, 152, 0, 0.06) 50%, transparent 80%)",animation:"heatWave 3s ease-in-out infinite"},className:"jsx-b7778fa8d3fbb56d absolute inset-0"}),n.map(e=>(0,t.jsx)("div",{style:{bottom:"10%",left:`${e.x}%`,width:e.size,height:e.size,background:`radial-gradient(circle, ${Math.random()>.5?"rgba(255, 200, 50, 0.9)":"rgba(255, 120, 30, 0.9)"}, rgba(255, 87, 34, 0.5))`,"--spark-opacity":e.opacity,"--spark-drift":`${e.drift}px`,animation:`sparkRise ${e.duration}s ease-out ${e.delay}s infinite`},className:"jsx-b7778fa8d3fbb56d absolute rounded-full"},e.id)),o.map(e=>(0,t.jsx)("div",{style:{left:`${e.x}%`,top:`${e.y}%`,width:e.size,height:e.size,background:"radial-gradient(circle, rgba(255, 180, 50, 0.9), rgba(255, 87, 34, 0.3))","--ember-opacity":.5,animation:`emberGlow ${e.duration}s ease-in-out ${e.delay}s infinite`},className:"jsx-b7778fa8d3fbb56d absolute rounded-full"},e.id)),(0,t.jsx)("div",{style:{background:"linear-gradient(180deg, transparent, rgba(255, 87, 34, 0.06), rgba(255, 152, 0, 0.1))"},className:"jsx-b7778fa8d3fbb56d absolute bottom-0 left-0 right-0 h-1/3"})]}),l&&(0,t.jsx)("div",{style:{zIndex:20,right:"15%",top:"52%",animation:"flameAppear 0.8s ease-out forwards"},className:"jsx-b7778fa8d3fbb56d pointer-events-none absolute",children:(0,t.jsxs)("div",{style:{animation:"flameFlicker 1.5s ease-in-out infinite"},className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsxs)("svg",{viewBox:"0 0 48 64",width:"30",height:"40",xmlns:"http://www.w3.org/2000/svg",className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsxs)("defs",{className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsxs)("linearGradient",{id:"fGrad",x1:"0.3",y1:"1",x2:"0.7",y2:"0",className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#ff5722",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("stop",{offset:"40%",stopColor:"#ff9800",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("stop",{offset:"70%",stopColor:"#ffcc02",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#fff8e1",className:"jsx-b7778fa8d3fbb56d"})]}),(0,t.jsxs)("linearGradient",{id:"fInner",x1:"0.3",y1:"1",x2:"0.7",y2:"0",className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#ff9800",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#ffcc02",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#fffde7",className:"jsx-b7778fa8d3fbb56d"})]}),(0,t.jsxs)("radialGradient",{id:"fCore",cx:"0.5",cy:"0.6",r:"0.4",className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"white",stopOpacity:"0.8",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#ffcc02",stopOpacity:"0",className:"jsx-b7778fa8d3fbb56d"})]}),(0,t.jsxs)("filter",{id:"fGlow",className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"4",result:"b",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsxs)("feMerge",{className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsx)("feMergeNode",{in:"b",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic",className:"jsx-b7778fa8d3fbb56d"})]})]})]}),(0,t.jsx)("ellipse",{cx:"24",cy:"36",rx:"18",ry:"22",fill:"rgba(255, 152, 0, 0.12)",filter:"url(#fGlow)",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("path",{d:"M24 4 Q30 16 34 24 Q40 32 38 42 Q36 52 30 56 Q26 58 24 58 Q22 58 18 56 Q12 52 10 42 Q8 32 14 24 Q18 16 24 4Z",fill:"url(#fGrad)",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("path",{d:"M24 18 Q28 26 30 32 Q32 38 30 46 Q28 50 24 52 Q20 50 18 46 Q16 38 18 32 Q20 26 24 18Z",fill:"url(#fInner)",style:{animation:"innerFlame 1.2s ease-in-out infinite"},className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("path",{d:"M24 30 Q26 34 26 38 Q26 44 24 46 Q22 44 22 38 Q22 34 24 30Z",fill:"url(#fCore)",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("ellipse",{cx:"20",cy:"28",rx:"2.5",ry:"5",fill:"white",opacity:"0.2",transform:"rotate(-10 20 28)",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsxs)("circle",{cx:"16",cy:"20",r:"1",fill:"#ffcc02",opacity:"0.6",className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsx)("animate",{attributeName:"cy",values:"20;14;20",dur:"1.5s",repeatCount:"indefinite",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("animate",{attributeName:"opacity",values:"0.6;0;0.6",dur:"1.5s",repeatCount:"indefinite",className:"jsx-b7778fa8d3fbb56d"})]}),(0,t.jsxs)("circle",{cx:"32",cy:"18",r:"0.8",fill:"#ff9800",opacity:"0.5",className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsx)("animate",{attributeName:"cy",values:"18;12;18",dur:"2s",repeatCount:"indefinite",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("animate",{attributeName:"opacity",values:"0.5;0;0.5",dur:"2s",repeatCount:"indefinite",className:"jsx-b7778fa8d3fbb56d"})]}),(0,t.jsxs)("circle",{cx:"28",cy:"14",r:"0.6",fill:"#fff8e1",opacity:"0.4",className:"jsx-b7778fa8d3fbb56d",children:[(0,t.jsx)("animate",{attributeName:"cy",values:"14;8;14",dur:"1.8s",repeatCount:"indefinite",className:"jsx-b7778fa8d3fbb56d"}),(0,t.jsx)("animate",{attributeName:"opacity",values:"0.4;0;0.4",dur:"1.8s",repeatCount:"indefinite",className:"jsx-b7778fa8d3fbb56d"})]})]}),(0,t.jsx)("div",{className:"jsx-b7778fa8d3fbb56d absolute -bottom-1 left-1/2 -translate-x-1/2",children:(0,t.jsx)("div",{style:{background:"radial-gradient(ellipse, rgba(255, 152, 0, 0.25), transparent)",animation:"heatWave 1.5s ease-in-out infinite"},className:"jsx-b7778fa8d3fbb56d h-3 w-8 rounded-full"})})]})})]}):null}function y({active:e}){let[s,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),n=(0,a.useMemo)(()=>Array.from({length:12},(e,t)=>({id:t,x:5+90*Math.random(),height:30+50*Math.random(),delay:2.5*Math.random(),duration:2+2*Math.random(),lean:-8+16*Math.random(),leaves:1+Math.floor(3*Math.random())})),[]),o=(0,a.useMemo)(()=>Array.from({length:10},(e,t)=>({id:t,x:10+80*Math.random(),y:20+60*Math.random(),size:6+10*Math.random(),delay:4*Math.random(),duration:3+4*Math.random(),rotation:360*Math.random()})),[]),c=(0,a.useMemo)(()=>Array.from({length:20},(e,t)=>({id:t,x:15+70*Math.random(),delay:3*Math.random(),duration:2+2.5*Math.random(),size:2+3*Math.random()})),[]);return((0,a.useEffect)(()=>{if(!e){r(!1),i(!1);return}r(!0),i(!0);let t=setTimeout(()=>{r(!1)},3e4);return()=>clearTimeout(t)},[e]),e||l)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.default,{id:"5de580651c2ccebc",children:"@keyframes vineGrow{0%{clip-path:inset(100% 0 0);opacity:0}10%{opacity:1}to{clip-path:inset(0% 0 0);opacity:1}}@keyframes leafFloat{0%,to{opacity:0;transform:translateY(0)rotate(var(--leaf-rot))scale(.7)}20%{opacity:var(--leaf-opacity,.4);transform:translateY(-5px)rotate(calc(var(--leaf-rot) + 15deg))scale(1)}80%{opacity:var(--leaf-opacity,.4);transform:translateY(-12px)rotate(calc(var(--leaf-rot) - 10deg))scale(.95)}}@keyframes sporeRise{0%{opacity:0;transform:translateY(0)scale(.5)}20%{opacity:var(--spore-opacity,.4)}80%{opacity:var(--spore-opacity,.4)}to{opacity:0;transform:translateY(-80px)scale(.2)}}@keyframes plantSprout{0%{opacity:0;transform:scale(0)translateY(15px)}40%{opacity:.8;transform:scale(.6)translateY(5px)}70%{opacity:1;transform:scale(1.1)translateY(-2px)}to{opacity:1;transform:scale(1)translateY(0)}}@keyframes plantSway{0%,to{transform:rotate(0)translateY(0)}25%{transform:rotate(2deg)translateY(-1px)}75%{transform:rotate(-2deg)translateY(-2px)}}@keyframes auraPulse{0%,to{opacity:.06}50%{opacity:.12}}"}),(0,t.jsxs)("div",{style:{zIndex:0,opacity:+!!s,transition:"opacity 2.5s ease-out"},className:"jsx-5de580651c2ccebc pointer-events-none absolute inset-0 overflow-hidden rounded-xl",children:[(0,t.jsx)("div",{style:{background:"radial-gradient(ellipse 80% 60% at 50% 80%, rgba(76, 175, 80, 0.1), rgba(129, 199, 132, 0.05) 50%, transparent 80%)",animation:"auraPulse 4s ease-in-out infinite"},className:"jsx-5de580651c2ccebc absolute inset-0"}),n.map(e=>(0,t.jsxs)("div",{style:{left:`${e.x}%`,width:"2px",height:`${e.height}%`,transform:`rotate(${e.lean}deg)`,transformOrigin:"bottom center",animation:`vineGrow ${e.duration}s ease-out ${e.delay}s both`},className:"jsx-5de580651c2ccebc absolute bottom-0",children:[(0,t.jsx)("div",{style:{background:"linear-gradient(180deg, rgba(76, 175, 80, 0.15), rgba(56, 142, 60, 0.5))"},className:"jsx-5de580651c2ccebc absolute inset-0 rounded-full"}),Array.from({length:e.leaves}).map((e,a)=>{let s=20+30*a+15*Math.random(),r=a%2==0?-1:1;return(0,t.jsxs)("svg",{viewBox:"0 0 20 14",width:"12",height:"8",style:{top:`${s}%`,left:r>0?"2px":"-12px",transform:`scaleX(${r})`,opacity:.6},className:"jsx-5de580651c2ccebc absolute",children:[(0,t.jsx)("path",{d:"M2 7 Q6 0 18 2 Q14 7 18 12 Q6 14 2 7Z",fill:"rgba(76, 175, 80, 0.7)",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M3 7 Q10 5 17 3",stroke:"rgba(56, 142, 60, 0.4)",strokeWidth:"0.5",fill:"none",className:"jsx-5de580651c2ccebc"})]},a)})]},e.id)),o.map(e=>(0,t.jsx)("div",{style:{left:`${e.x}%`,top:`${e.y}%`,"--leaf-rot":`${e.rotation}deg`,"--leaf-opacity":.35,animation:`leafFloat ${e.duration}s ease-in-out ${e.delay}s infinite`},className:"jsx-5de580651c2ccebc absolute",children:(0,t.jsxs)("svg",{viewBox:"0 0 20 14",width:1.4*e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",className:"jsx-5de580651c2ccebc",children:[(0,t.jsx)("path",{d:"M2 7 Q6 0 18 2 Q14 7 18 12 Q6 14 2 7Z",fill:"rgba(129, 199, 132, 0.6)",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M3 7 Q10 5 17 3",stroke:"rgba(76, 175, 80, 0.4)",strokeWidth:"0.4",fill:"none",className:"jsx-5de580651c2ccebc"})]})},e.id)),c.map(e=>(0,t.jsx)("div",{style:{bottom:"5%",left:`${e.x}%`,width:e.size,height:e.size,background:"radial-gradient(circle, rgba(200, 230, 150, 0.8), rgba(129, 199, 132, 0.3))","--spore-opacity":.45,animation:`sporeRise ${e.duration}s ease-out ${e.delay}s infinite`},className:"jsx-5de580651c2ccebc absolute rounded-full"},e.id)),(0,t.jsx)("div",{style:{background:"linear-gradient(180deg, transparent, rgba(76, 175, 80, 0.06), rgba(56, 142, 60, 0.1))"},className:"jsx-5de580651c2ccebc absolute bottom-0 left-0 right-0 h-1/5"})]}),l&&(0,t.jsx)("div",{style:{zIndex:20,right:"14%",top:"50%",animation:"plantSprout 1.2s ease-out forwards"},className:"jsx-5de580651c2ccebc pointer-events-none absolute",children:(0,t.jsxs)("div",{style:{animation:"plantSway 4s ease-in-out infinite"},className:"jsx-5de580651c2ccebc",children:[(0,t.jsxs)("svg",{viewBox:"0 0 48 64",width:"30",height:"40",xmlns:"http://www.w3.org/2000/svg",className:"jsx-5de580651c2ccebc",children:[(0,t.jsxs)("defs",{className:"jsx-5de580651c2ccebc",children:[(0,t.jsxs)("linearGradient",{id:"stemG",x1:"0",y1:"1",x2:"0",y2:"0",className:"jsx-5de580651c2ccebc",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#2e7d32",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#4caf50",className:"jsx-5de580651c2ccebc"})]}),(0,t.jsxs)("linearGradient",{id:"leafG1",x1:"0",y1:"0",x2:"1",y2:"1",className:"jsx-5de580651c2ccebc",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#81c784",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#388e3c",className:"jsx-5de580651c2ccebc"})]}),(0,t.jsxs)("linearGradient",{id:"leafG2",x1:"1",y1:"0",x2:"0",y2:"1",className:"jsx-5de580651c2ccebc",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#a5d6a7",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#4caf50",className:"jsx-5de580651c2ccebc"})]}),(0,t.jsxs)("radialGradient",{id:"plantAura",cx:"0.5",cy:"0.5",r:"0.5",className:"jsx-5de580651c2ccebc",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"rgba(76, 175, 80, 0.2)",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"transparent",className:"jsx-5de580651c2ccebc"})]}),(0,t.jsxs)("filter",{id:"pGlow",className:"jsx-5de580651c2ccebc",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"2.5",result:"b",className:"jsx-5de580651c2ccebc"}),(0,t.jsxs)("feMerge",{className:"jsx-5de580651c2ccebc",children:[(0,t.jsx)("feMergeNode",{in:"b",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic",className:"jsx-5de580651c2ccebc"})]})]})]}),(0,t.jsx)("ellipse",{cx:"24",cy:"34",rx:"20",ry:"24",fill:"url(#plantAura)",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M24 58 Q24 48 22 40 Q20 34 24 26",stroke:"url(#stemG)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M22 42 Q18 38 14 36",stroke:"#388e3c",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M23 36 Q28 32 32 30",stroke:"#388e3c",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M24 26 Q34 16 42 10 Q44 18 40 26 Q34 34 24 26Z",fill:"url(#leafG1)",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M26 24 Q34 18 40 13",stroke:"rgba(255,255,255,0.2)",strokeWidth:"0.5",fill:"none",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M27 26 Q33 22 38 18",stroke:"#2e7d32",strokeWidth:"0.4",fill:"none",opacity:"0.4",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M22 34 Q12 26 6 22 Q6 30 10 36 Q16 42 22 34Z",fill:"url(#leafG2)",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M20 33 Q14 28 8 24",stroke:"rgba(255,255,255,0.15)",strokeWidth:"0.5",fill:"none",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M19 35 Q13 30 8 26",stroke:"#2e7d32",strokeWidth:"0.4",fill:"none",opacity:"0.35",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M26 38 Q34 34 38 30 Q36 36 32 40 Q28 42 26 38Z",fill:"#81c784",opacity:"0.7",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("ellipse",{cx:"36",cy:"10",rx:"2.5",ry:"3",fill:"#a5d6a7",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("ellipse",{cx:"36",cy:"9",rx:"1.5",ry:"1.5",fill:"#c8e6c9",opacity:"0.6",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("ellipse",{cx:"34",cy:"20",rx:"2",ry:"4",fill:"white",opacity:"0.15",transform:"rotate(-30 34 20)",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("circle",{cx:"18",cy:"28",r:"1",fill:"#c8e6c9",opacity:"0.5",filter:"url(#pGlow)",className:"jsx-5de580651c2ccebc",children:(0,t.jsx)("animate",{attributeName:"opacity",values:"0.5;0.15;0.5",dur:"2.5s",repeatCount:"indefinite",className:"jsx-5de580651c2ccebc"})}),(0,t.jsx)("circle",{cx:"38",cy:"22",r:"0.8",fill:"#a5d6a7",opacity:"0.4",filter:"url(#pGlow)",className:"jsx-5de580651c2ccebc",children:(0,t.jsx)("animate",{attributeName:"opacity",values:"0.4;0.1;0.4",dur:"3s",repeatCount:"indefinite",className:"jsx-5de580651c2ccebc"})}),(0,t.jsx)("circle",{cx:"10",cy:"32",r:"0.7",fill:"#c8e6c9",opacity:"0.3",className:"jsx-5de580651c2ccebc",children:(0,t.jsx)("animate",{attributeName:"opacity",values:"0.3;0.1;0.3",dur:"2s",repeatCount:"indefinite",className:"jsx-5de580651c2ccebc"})}),(0,t.jsx)("path",{d:"M40 28 L44 28 L44 32",stroke:"rgba(129, 199, 132, 0.35)",strokeWidth:"0.6",fill:"none",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("circle",{cx:"44",cy:"32",r:"0.8",fill:"rgba(129, 199, 132, 0.4)",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("path",{d:"M8 36 L4 36 L4 32",stroke:"rgba(129, 199, 132, 0.35)",strokeWidth:"0.6",fill:"none",className:"jsx-5de580651c2ccebc"}),(0,t.jsx)("circle",{cx:"4",cy:"32",r:"0.8",fill:"rgba(129, 199, 132, 0.4)",className:"jsx-5de580651c2ccebc"})]}),(0,t.jsx)("div",{className:"jsx-5de580651c2ccebc absolute -bottom-1 left-1/2 -translate-x-1/2",children:(0,t.jsx)("div",{style:{background:"radial-gradient(ellipse, rgba(76, 175, 80, 0.2), transparent)"},className:"jsx-5de580651c2ccebc h-2 w-10 rounded-full"})})]})})]}):null}function j({power:e,active:a}){switch(e){case"water":return(0,t.jsx)(h,{active:a});case"fire":return(0,t.jsx)(g,{active:a});case"earth":return(0,t.jsx)(y,{active:a});default:return null}}let v=[{value:"femenino",label:"Femenino"},{value:"masculino",label:"Masculino"},{value:"sin-genero",label:"Sin Genero"}],N=[{value:"water",label:"Agua",cssColor:"#00bcd4",icon:"water"},{value:"fire",label:"Fuego",cssColor:"#ff5722",icon:"fire"},{value:"earth",label:"Tierra",cssColor:"#4caf50",icon:"earth"}];function w({onCreate:e}){let[s,c]=(0,a.useState)(""),[u,p]=(0,a.useState)(null),[f,m]=(0,a.useState)(null),[b,h]=(0,a.useState)(r),[g,y]=(0,a.useState)("info"),w=s.length>=2&&s.length<=15,k=s.length>0&&!w,S=w&&null!==u&&null!==f,C=N.find(e=>e.value===f)?.cssColor??"#4a9eff";function _(e,t){h(a=>({...a,[e]:t}))}return(0,t.jsx)("div",{className:"flex min-h-screen items-start justify-center p-4 py-8 sm:items-center",children:(0,t.jsx)("div",{className:"relative w-full max-w-md animate-fade-in",children:(0,t.jsxs)("div",{className:"overflow-hidden rounded-2xl border shadow-lg",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.85), rgba(230,242,255,0.8))",borderColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(20px)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2.5",style:{background:"linear-gradient(180deg, rgba(200,225,255,0.6), rgba(180,215,255,0.3))",borderBottom:"1px solid rgba(255,255,255,0.5)"},children:[(0,t.jsxs)("div",{className:"flex gap-1.5",children:[(0,t.jsx)("div",{className:"h-2.5 w-2.5 rounded-full",style:{background:"linear-gradient(180deg, #ff9999, #e05555)"}}),(0,t.jsx)("div",{className:"h-2.5 w-2.5 rounded-full",style:{background:"linear-gradient(180deg, #ffe066, #ddb030)"}}),(0,t.jsx)("div",{className:"h-2.5 w-2.5 rounded-full",style:{background:"linear-gradient(180deg, #80dd80, #40aa40)"}})]}),(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-widest text-primary",children:"info"===g?"PixSim v2.0":"Editor de Personaje"})]}),(0,t.jsx)("div",{className:"p-6 md:p-8",children:"info"===g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-6 text-center",children:[(0,t.jsx)("h1",{className:"mb-1 text-2xl font-bold tracking-wider text-primary md:text-3xl",children:"Activa tu PixSim"}),(0,t.jsx)("p",{className:"text-xs tracking-wide text-primary/50",children:"El inicio de tu identidad digital"})]}),(0,t.jsx)("div",{className:"mb-6 h-px",style:{background:"rgba(0,80,200,0.1)"}}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{htmlFor:"pixsim-name",className:"mb-2 block text-[10px] font-semibold uppercase tracking-widest text-primary",children:"Nombre"}),(0,t.jsx)("input",{id:"pixsim-name",type:"text",maxLength:15,value:s,onChange:e=>c(e.target.value),placeholder:"Escribe un nombre...",className:"w-full rounded-lg px-4 py-3 text-sm text-primary outline-none transition-all",style:{background:"rgba(255,255,255,0.7)",border:"1px solid rgba(200,220,255,0.5)",boxShadow:"inset 0 1px 3px rgba(0,80,200,0.06)"},onFocus:e=>{e.currentTarget.style.borderColor="rgba(0,100,255,0.4)",e.currentTarget.style.boxShadow="0 0 0 3px rgba(0,100,255,0.08), inset 0 1px 3px rgba(0,80,200,0.06)"},onBlur:e=>{e.currentTarget.style.borderColor="rgba(200,220,255,0.5)",e.currentTarget.style.boxShadow="inset 0 1px 3px rgba(0,80,200,0.06)"}}),k&&(0,t.jsx)("p",{className:"mt-2 text-[10px] text-destructive",role:"alert",children:"El nombre debe tener entre 2 y 15 caracteres"}),(0,t.jsxs)("p",{className:"mt-1 text-right text-[10px] text-primary/40",children:[s.length,"/15"]})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{className:"mb-3 block text-[10px] font-semibold uppercase tracking-widest text-primary",children:"Identidad"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:v.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>p(e.value),"aria-pressed":u===e.value,className:"flex flex-col items-center gap-1 rounded-lg px-2 py-3 text-[10px] font-semibold uppercase tracking-wider transition-all",style:u===e.value?{background:"linear-gradient(180deg, #4a9eff, #0066ff)",color:"#fff",border:"1px solid rgba(0,80,200,0.3)",boxShadow:"0 3px 10px rgba(0,100,255,0.25), inset 0 1px 2px rgba(255,255,255,0.3)"}:{background:"linear-gradient(180deg, rgba(255,255,255,0.7), rgba(240,248,255,0.5))",color:"hsl(216 100% 50%)",border:"1px solid rgba(200,220,255,0.5)"},children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"mb-3 block text-[10px] font-semibold uppercase tracking-widest text-primary",children:"Poder Elemental"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:N.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>m(e.value),"aria-pressed":f===e.value,className:"flex flex-col items-center gap-2 rounded-lg px-2 py-4 transition-all",style:f===e.value?{background:"rgba(255,255,255,0.8)",border:`2px solid ${e.cssColor}`,boxShadow:`0 3px 12px ${e.cssColor}30`}:{background:"linear-gradient(180deg, rgba(255,255,255,0.7), rgba(240,248,255,0.5))",border:"1px solid rgba(200,220,255,0.5)"},children:[(0,t.jsx)(x,{type:e.icon,color:e.cssColor,size:32}),(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-wider text-primary",children:e.label})]},e.value))})]}),(0,t.jsx)("div",{className:"mb-6 h-px",style:{background:"rgba(0,80,200,0.1)"}}),(0,t.jsx)("button",{type:"button",disabled:!S,onClick:()=>y("customize"),className:"w-full rounded-lg px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all",style:S?{background:"linear-gradient(180deg, #4a9eff, #0066ff)",color:"#fff",boxShadow:"0 4px 14px rgba(0,100,255,0.3), inset 0 1px 2px rgba(255,255,255,0.3)"}:{background:"rgba(200,220,240,0.5)",color:"rgba(100,140,180,0.6)",cursor:"not-allowed"},children:"Personalizar Personaje â†’"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>y("info"),className:"rounded-lg px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wider text-primary/60 transition-all hover:text-primary",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.7), rgba(240,245,255,0.5))",border:"1px solid rgba(200,220,255,0.5)"},children:"â† Atras"}),(0,t.jsxs)("h2",{className:"text-sm font-bold tracking-wider text-primary",children:["Personaliza a ",s]})]}),(0,t.jsxs)("div",{className:"relative mb-5 flex justify-center rounded-xl p-4 overflow-hidden",style:{background:"rgba(255,255,255,0.4)"},children:[(0,t.jsx)(j,{power:f??"",active:!!f}),(0,t.jsx)("div",{className:"relative z-10",children:(0,t.jsx)(d,{parts:b,energyColor:C,identity:u??"femenino",size:140})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"mb-2 block text-[10px] font-semibold uppercase tracking-widest text-primary",children:"Cabello"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:l.map((e,a)=>(0,t.jsx)("button",{type:"button",onClick:()=>_("hair",a),className:"rounded-lg px-2 py-2.5 text-[9px] font-semibold uppercase tracking-wider transition-all",style:b.hair===a?{background:`linear-gradient(180deg, ${C}, ${C}dd)`,color:"#fff",border:`1px solid ${C}`,boxShadow:`0 2px 8px ${C}40`}:{background:"linear-gradient(180deg, rgba(255,255,255,0.7), rgba(240,248,255,0.5))",color:"hsl(216 100% 50%)",border:"1px solid rgba(200,220,255,0.5)"},children:e},a))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"mb-2 block text-[10px] font-semibold uppercase tracking-widest text-primary",children:"Color de Ojos"}),(0,t.jsx)("div",{className:"grid grid-cols-6 gap-2",children:n.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>_("eyeColor",e.value),className:"flex flex-col items-center gap-1 rounded-lg py-2 transition-all",title:e.label,style:b.eyeColor===e.value?{background:"rgba(255,255,255,0.8)",border:`2px solid ${e.value}`,boxShadow:`0 2px 8px ${e.value}40`}:{background:"rgba(255,255,255,0.4)",border:"1px solid rgba(200,220,255,0.5)"},children:[(0,t.jsx)("div",{className:"h-5 w-5 rounded-full",style:{backgroundColor:e.value,boxShadow:`0 1px 4px ${e.value}60`}}),(0,t.jsx)("span",{className:"text-[7px] font-semibold uppercase tracking-wider text-primary/60",children:e.label})]},e.value))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"mb-2 block text-[10px] font-semibold uppercase tracking-widest text-primary",children:"Tono de Piel"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:o.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>_("skinTone",e.value),className:"flex flex-col items-center gap-1.5 rounded-lg py-2.5 transition-all",style:b.skinTone===e.value?{background:"rgba(255,255,255,0.8)",border:`2px solid ${e.value}`,boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}:{background:"rgba(255,255,255,0.4)",border:"1px solid rgba(200,220,255,0.5)"},children:[(0,t.jsx)("div",{className:"h-5 w-5 rounded-full",style:{backgroundColor:e.value,border:"1px solid rgba(0,0,0,0.1)"}}),(0,t.jsx)("span",{className:"text-[8px] font-semibold uppercase tracking-wider text-primary/60",children:e.label})]},e.value))})]}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("label",{className:"mb-2 block text-[10px] font-semibold uppercase tracking-widest text-primary",children:"Ropa"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:i.map((e,a)=>(0,t.jsx)("button",{type:"button",onClick:()=>_("outfit",a),className:"rounded-lg px-2 py-2.5 text-[9px] font-semibold uppercase tracking-wider transition-all",style:b.outfit===a?{background:`linear-gradient(180deg, ${C}, ${C}dd)`,color:"#fff",border:`1px solid ${C}`,boxShadow:`0 2px 8px ${C}40`}:{background:"linear-gradient(180deg, rgba(255,255,255,0.7), rgba(240,248,255,0.5))",color:"hsl(216 100% 50%)",border:"1px solid rgba(200,220,255,0.5)"},children:e},a))})]}),(0,t.jsx)("div",{className:"mb-5 h-px",style:{background:"rgba(0,80,200,0.1)"}}),(0,t.jsx)("button",{type:"button",onClick:function(){S&&u&&f&&e({name:s,identity:u,energy:f,emotional:50,vital:50,hunger:50,createdAt:new Date().toISOString(),character:b})},className:"w-full rounded-lg px-6 py-3 text-xs font-bold uppercase tracking-widest transition-all",style:{background:"linear-gradient(180deg, #4a9eff, #0066ff)",color:"#fff",boxShadow:"0 4px 14px rgba(0,100,255,0.3), inset 0 1px 2px rgba(255,255,255,0.3)"},children:"Inicio"})]})})]})})})}function k({label:e,value:a,max:s,barColor:r}){let l=Math.max(0,Math.min(100,a/s*100));return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-1.5 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-widest text-primary",children:e}),(0,t.jsxs)("span",{className:"text-[10px] font-bold text-primary/70",children:[a,"/",s]})]}),(0,t.jsx)("div",{className:"relative h-3 w-full overflow-hidden rounded-full",style:{background:"rgba(200,220,240,0.4)",boxShadow:"inset 0 1px 3px rgba(0,50,100,0.08)"},children:(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-700 ease-out",style:{width:`${l}%`,background:`linear-gradient(180deg, ${r}dd, ${r})`,boxShadow:`0 1px 6px ${r}40`},role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":s,"aria-label":`${e}: ${a} de ${s}`,children:(0,t.jsx)("div",{className:"absolute inset-x-0 top-0 h-1/2 rounded-t-full",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.4), transparent)"},"aria-hidden":"true"})})})]})}function S({icon:e,label:s,color:r,onClick:l}){let[i,n]=(0,a.useState)(!1),o=(0,a.useCallback)(()=>{n(!0),l(),setTimeout(()=>n(!1),350)},[l]);return(0,t.jsxs)("button",{type:"button",onClick:o,"aria-label":s,className:`group relative flex items-center gap-2 rounded-xl px-4 py-2 text-[10px] font-bold uppercase tracking-wider transition-all animate-float-slow ${i?"animate-bounce-click":""}`,style:{background:`linear-gradient(180deg, ${r}cc, ${r}88)`,boxShadow:`0 4px 12px ${r}40, 0 2px 4px rgba(0,0,0,0.1), inset 0 1px 2px rgba(255,255,255,0.5)`,color:"#fff",border:`1px solid ${r}60`},onMouseEnter:e=>{e.currentTarget.style.boxShadow=`0 6px 20px ${r}60, 0 3px 8px rgba(0,0,0,0.12), inset 0 1px 2px rgba(255,255,255,0.6)`},onMouseLeave:e=>{e.currentTarget.style.boxShadow=`0 4px 12px ${r}40, 0 2px 4px rgba(0,0,0,0.1), inset 0 1px 2px rgba(255,255,255,0.5)`},children:[(0,t.jsx)("span",{className:"pointer-events-none absolute inset-x-0 top-0 h-1/2 rounded-t-xl",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0) 100%)"},"aria-hidden":"true"}),(0,t.jsx)("span",{className:"relative z-10 text-base","aria-hidden":"true",children:e}),(0,t.jsx)("span",{className:"relative z-10",children:"+5"})]})}function C({className:e="h-5 w-5"}){return(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:e,"aria-hidden":"true",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"heartGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#ff9ec5"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#e0457b"})]})}),(0,t.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:"url(#heartGrad)"}),(0,t.jsx)("ellipse",{cx:"9",cy:"7.5",rx:"3.5",ry:"2.5",fill:"rgba(255,255,255,0.35)"})]})}function _({className:e="h-5 w-5"}){return(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:e,"aria-hidden":"true",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"muscleGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#7ec8ff"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#2a8fd4"})]})}),(0,t.jsx)("path",{d:"M5.2 10c-.7-2.2.3-4.5 2.5-5.2 1.3-.4 2.5 0 3.3.8l1 1.2 1-1.2c.8-.8 2-1.2 3.3-.8 2.2.7 3.2 3 2.5 5.2L12 20 5.2 10z",fill:"url(#muscleGrad)"}),(0,t.jsx)("path",{d:"M11 8l-1.5 3.5h2.5L10.5 16l4-5h-2.5L13 8h-2z",fill:"rgba(255,255,255,0.5)"}),(0,t.jsx)("ellipse",{cx:"9.5",cy:"8",rx:"2",ry:"1.5",fill:"rgba(255,255,255,0.25)"})]})}function M({className:e="h-5 w-5"}){return(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:e,"aria-hidden":"true",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"fruitGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#80eec0"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#00bcd4"})]})}),(0,t.jsx)("ellipse",{cx:"12",cy:"14",rx:"6.5",ry:"7",fill:"url(#fruitGrad)"}),(0,t.jsx)("path",{d:"M12 7V4.5",stroke:"#2a9d8f",strokeWidth:"1.5",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M12 5c1.5-1.5 4-1.5 4 0s-2 1.5-4 0z",fill:"#5ec4a0"}),(0,t.jsx)("ellipse",{cx:"10",cy:"11.5",rx:"2.5",ry:"3",fill:"rgba(255,255,255,0.3)"}),(0,t.jsx)("path",{d:"M8.5 14l3.5-4 3.5 4",stroke:"rgba(255,255,255,0.2)",strokeWidth:"0.5",fill:"none"})]})}var $=e.i(746435),$=$;let P="pixsim-coins-";function E(){return new Date().toISOString().slice(0,10)}function R(e){try{let t=localStorage.getItem(`${P}${e}`);if(!t){let t={balance:100,dailyEarned:0,dailyDate:E()};return z(e,t),t}let a=JSON.parse(t);return a.dailyDate!==E()&&(a.dailyEarned=0,a.dailyDate=E(),z(e,a)),a}catch{return{balance:100,dailyEarned:0,dailyDate:E()}}}function z(e,t){localStorage.setItem(`${P}${e}`,JSON.stringify(t))}var $=$;let O=0;function F(){let{ready:e,authenticated:s,user:r,login:l,logout:i}=(0,$.u)(),[n,o]=(0,a.useState)(0),[c,d]=(0,a.useState)([]);if((0,a.useEffect)(()=>{if(!s||!r)return;let e=()=>o(R(r.id).balance);e();let t=setInterval(e,500);return()=>clearInterval(t)},[s,r]),(0,a.useEffect)(()=>{function e(e){let t=e.detail;if(t?.amount&&0!==t.amount){let e=++O,a=t.amount>0;d(s=>[...s,{id:e,text:a?`+${t.amount} ðŸŠ`:`${t.amount} ðŸŠ`,color:a?"#4caf50":"#ff5722"}]),setTimeout(()=>d(t=>t.filter(t=>t.id!==e)),2200)}r&&o(R(r.id).balance)}return window.addEventListener("pixsim-coins",e),()=>window.removeEventListener("pixsim-coins",e)},[r]),!e)return null;let x=r?.google?.name||r?.email?.address||r?.id?.slice(0,10)||"Usuario";return(0,t.jsxs)("div",{style:{background:"linear-gradient(180deg, rgba(230,242,255,0.95), rgba(200,225,255,0.85))",borderBottom:"1px solid rgba(255,255,255,0.5)",backdropFilter:"blur(12px)"},className:"jsx-c13bab475c692436 sticky top-0 z-40 flex items-center justify-between px-4 py-2",children:[(0,t.jsx)(b.default,{id:"c13bab475c692436",children:"@keyframes coinFloat{0%{opacity:1;transform:translateY(0)scale(1)}60%{opacity:1;transform:translateY(-18px)scale(1.1)}to{opacity:0;transform:translateY(-28px)scale(.8)}}"}),(0,t.jsx)("div",{className:"jsx-c13bab475c692436 flex items-center gap-2 min-w-0",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{background:"linear-gradient(135deg, #4a9eff, #0066ff)"},className:"jsx-c13bab475c692436 flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-[10px] font-bold text-white",children:x.charAt(0).toUpperCase()}),(0,t.jsx)("span",{className:"jsx-c13bab475c692436 truncate text-[10px] font-semibold tracking-wider text-primary/70 max-w-[80px]",children:x})]}):(0,t.jsx)("span",{className:"jsx-c13bab475c692436 text-[10px] font-semibold tracking-wider text-primary/40",children:"No conectado"})}),(0,t.jsxs)("div",{className:"jsx-c13bab475c692436 relative flex items-center gap-1",children:[(0,t.jsx)("div",{className:"jsx-c13bab475c692436 pointer-events-none absolute -top-1 left-1/2 -translate-x-1/2 z-50 flex flex-col items-center",children:c.map(e=>(0,t.jsx)("span",{style:{color:e.color,animation:"coinFloat 2.2s ease-out forwards"},className:"jsx-c13bab475c692436 whitespace-nowrap text-[11px] font-bold",children:e.text},e.id))}),(0,t.jsx)("span",{className:"jsx-c13bab475c692436 text-sm",children:"ðŸŠ"}),s?(0,t.jsxs)("span",{className:"jsx-c13bab475c692436 text-[11px] font-bold tracking-wider text-primary transition-all",children:[n," ",(0,t.jsx)("span",{className:"jsx-c13bab475c692436 text-primary/50",children:"$FRUTA"})]}):(0,t.jsxs)("span",{className:"jsx-c13bab475c692436 text-[11px] font-semibold tracking-wider text-primary/40",children:["â€” ",(0,t.jsx)("span",{className:"jsx-c13bab475c692436",children:"$FRUTA"})]})]}),s?(0,t.jsx)("button",{type:"button",onClick:i,style:{background:"linear-gradient(180deg, rgba(255,255,255,0.7), rgba(240,245,255,0.5))",border:"1px solid rgba(200,220,255,0.5)"},className:"jsx-c13bab475c692436 rounded-lg px-3 py-1 text-[9px] font-semibold uppercase tracking-wider text-primary/50 transition-all hover:text-destructive hover:scale-105 active:scale-95",children:"Cerrar SesiÃ³n"}):(0,t.jsx)("button",{type:"button",onClick:l,style:{background:"linear-gradient(180deg, #4a9eff, #0066ff)",boxShadow:"0 2px 8px rgba(0,100,255,0.25)"},className:"jsx-c13bab475c692436 rounded-lg px-3 py-1 text-[9px] font-bold uppercase tracking-wider text-white transition-all hover:scale-105 active:scale-95",children:"Iniciar SesiÃ³n"})]})}function I(e){window.dispatchEvent(new CustomEvent("pixsim-coins",{detail:{amount:e}}))}let Q="pixsim-chat",T="pixsim-memories";function A(e){localStorage.setItem(Q,JSON.stringify(e.slice(-20)))}function L({petName:e,petIdentity:s,petPower:r,stats:l,onStatChange:i}){let{authenticated:n,user:o}=(0,$.u)(),[c,d]=(0,a.useState)([]),[x,u]=(0,a.useState)([]),[p,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)([]),N=(0,a.useRef)(null),w=(0,a.useRef)(null),k=(0,a.useRef)(0);function S(e,t){let a=++k.current;v(s=>[...s,{id:a,text:e,color:t}]),setTimeout(()=>{v(e=>e.filter(e=>e.id!==a))},2e3)}(0,a.useEffect)(()=>{d(function(){try{let e=localStorage.getItem(Q);return e?JSON.parse(e):[]}catch{return[]}}()),u(function(){try{let e=localStorage.getItem(T);return e?JSON.parse(e):[]}catch{return[]}}())},[]),(0,a.useEffect)(()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},[c,g]);let C=(0,a.useCallback)(async()=>{let t=p.trim();if(!t||m)return;let a=[...c,{role:"user",content:t,ts:Date.now()}];d(a),A(a),f(""),h(!0),i("emotional",5),S("+5 Felicidad","#e0457b"),i("vital",-3),S("-3 EnergÃ­a","#4a9eff"),function(e){let t=0;for(let a=e.length-1;a>=0;a--)if("user"===e[a].role)t++;else break;return t}(a)>=5&&(i("vital",-5),setTimeout(()=>S("-5 EnergÃ­a (cansancio)","#ff5722"),400)),await new Promise(e=>setTimeout(e,500+500*Math.random())),y(!0);try{let i=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,petName:e,petIdentity:s,petPower:r,stats:l,memories:x,history:a.slice(-6).map(e=>({role:e.role,content:e.content}))})});if(!i.ok)throw Error("API error");let c=await i.json();y(!1);let p={role:"assistant",content:c.reply||"... *parpadea confundido* ...",ts:Date.now()},f=[...a,p];if(d(f),A(f),n&&o){let e=function(e){let t=R(e);if(t.dailyEarned>=50||Math.random()>(t.balance<30?.8:t.balance<60?.6:t.balance<100?.45:t.balance<200?.25:.1))return 0;let a=Math.min(Math.floor(4*Math.random())+2,50-t.dailyEarned);return t.balance+=a,t.dailyEarned+=a,z(e,t),a}(o.id);e>0&&I(e)}if(c.newMemories&&Array.isArray(c.newMemories)&&c.newMemories.length>0){let e=[...x];for(let t of c.newMemories){let a=e.findIndex(e=>e.key===t.key);a>=0?e[a]={...t,ts:Date.now()}:e.push({...t,ts:Date.now()})}let t=e.slice(-10);u(t),localStorage.setItem(T,JSON.stringify(t.slice(-10)))}}catch{y(!1);let t=[...a,{role:"assistant",content:`*${e} te mira con curiosidad pero no puede responder ahora* ðŸŒ€`,ts:Date.now()}];d(t),A(t)}finally{h(!1),w.current?.focus()}},[p,m,c,e,s,r,l,x]);return(0,t.jsxs)("div",{className:"jsx-5142c383dd853e3a relative mt-5",children:[(0,t.jsx)("div",{className:"jsx-5142c383dd853e3a pointer-events-none absolute -top-2 left-0 right-0 z-30 flex flex-col items-center gap-1",children:j.map(e=>(0,t.jsx)("div",{style:{color:e.color,animation:"statFloat 2s ease-out forwards"},className:"jsx-5142c383dd853e3a animate-fade-in text-[10px] font-bold tracking-wider",children:e.text},e.id))}),(0,t.jsx)(b.default,{id:"5142c383dd853e3a",children:"@keyframes statFloat{0%{opacity:1;transform:translateY(0)}70%{opacity:1;transform:translateY(-20px)}to{opacity:0;transform:translateY(-30px)}}"}),(0,t.jsxs)("div",{className:"jsx-5142c383dd853e3a mb-3 flex items-center gap-2",children:[(0,t.jsx)("div",{style:{background:"rgba(200,220,255,0.3)"},className:"jsx-5142c383dd853e3a h-px flex-1"}),(0,t.jsx)("span",{className:"jsx-5142c383dd853e3a text-[10px] font-semibold uppercase tracking-widest text-primary/50",children:"Conversa con tu PixSim"}),(0,t.jsx)("div",{style:{background:"rgba(200,220,255,0.3)"},className:"jsx-5142c383dd853e3a h-px flex-1"})]}),x.length>0&&(0,t.jsx)("div",{className:"jsx-5142c383dd853e3a mb-2 flex justify-end",children:(0,t.jsxs)("span",{style:{background:"rgba(156, 124, 244, 0.15)",color:"rgba(156, 124, 244, 0.8)",border:"1px solid rgba(156, 124, 244, 0.3)"},className:"jsx-5142c383dd853e3a rounded-full px-2 py-0.5 text-[8px] font-semibold uppercase tracking-wider",children:["ðŸ§  ",x.length," memoria",1!==x.length?"s":""]})}),(0,t.jsxs)("div",{style:{background:"linear-gradient(180deg, rgba(230,242,255,0.4), rgba(230,242,255,0.4))",border:"1px solid rgba(200,220,255,0.4)"},className:"jsx-5142c383dd853e3a overflow-hidden rounded-xl",children:[(0,t.jsxs)("div",{ref:N,style:{height:"220px"},className:"jsx-5142c383dd853e3a flex flex-col gap-2.5 overflow-y-auto p-3",children:[0===c.length&&!g&&(0,t.jsx)("div",{className:"jsx-5142c383dd853e3a flex h-full items-center justify-center",children:(0,t.jsxs)("p",{className:"jsx-5142c383dd853e3a text-center text-[10px] tracking-wider text-primary/30",children:["Escribe algo para hablar con ",e," âœ¨"]})}),c.map((a,s)=>(0,t.jsx)("div",{className:`jsx-5142c383dd853e3a flex ${"user"===a.role?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{style:"user"===a.role?{background:"linear-gradient(135deg, rgba(74, 158, 255, 0.15), rgba(0, 100, 255, 0.1))",border:"1px solid rgba(74, 158, 255, 0.2)"}:{background:"linear-gradient(135deg, rgba(255,255,255,0.7), rgba(240,248,255,0.5))",border:"1px solid rgba(200,220,255,0.4)"},className:"jsx-5142c383dd853e3a max-w-[80%] rounded-xl px-3 py-2",children:["assistant"===a.role&&(0,t.jsx)("span",{className:"jsx-5142c383dd853e3a mb-0.5 block text-[8px] font-semibold uppercase tracking-widest text-primary/40",children:e}),(0,t.jsx)("p",{className:"jsx-5142c383dd853e3a text-[11px] leading-relaxed text-primary/80",children:a.content})]})},s)),g&&(0,t.jsx)("div",{className:"jsx-5142c383dd853e3a flex justify-start",children:(0,t.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255,255,255,0.7), rgba(240,248,255,0.5))",border:"1px solid rgba(200,220,255,0.4)"},className:"jsx-5142c383dd853e3a rounded-xl px-3 py-2",children:[(0,t.jsx)("span",{className:"jsx-5142c383dd853e3a text-[8px] font-semibold uppercase tracking-widest text-primary/40",children:e}),(0,t.jsx)("p",{className:"jsx-5142c383dd853e3a mt-0.5 text-[9px] italic tracking-wider text-primary/30",children:"Escribiendo..."}),(0,t.jsxs)("div",{className:"jsx-5142c383dd853e3a mt-1 flex gap-1",children:[(0,t.jsx)("div",{style:{animationDelay:"0ms"},className:"jsx-5142c383dd853e3a h-1.5 w-1.5 animate-bounce rounded-full bg-primary/30"}),(0,t.jsx)("div",{style:{animationDelay:"150ms"},className:"jsx-5142c383dd853e3a h-1.5 w-1.5 animate-bounce rounded-full bg-primary/30"}),(0,t.jsx)("div",{style:{animationDelay:"300ms"},className:"jsx-5142c383dd853e3a h-1.5 w-1.5 animate-bounce rounded-full bg-primary/30"})]})]})})]}),(0,t.jsxs)("div",{style:{borderTop:"1px solid rgba(200,220,255,0.3)"},className:"jsx-5142c383dd853e3a flex gap-2 p-3",children:[(0,t.jsx)("input",{ref:w,type:"text",value:p,onChange:e=>f(e.target.value),onKeyDown:e=>{"Enter"===e.key&&C()},placeholder:`Escribe a ${e}...`,disabled:m,style:{background:"rgba(200,220,255,0.3)",border:"1px solid rgba(200,220,255,0.4)"},onFocus:e=>{e.currentTarget.style.borderColor="rgba(0,100,255,0.3)",e.currentTarget.style.boxShadow="0 0 0 2px rgba(0,100,255,0.06)"},onBlur:e=>{e.currentTarget.style.borderColor="rgba(200,220,255,0.4)",e.currentTarget.style.boxShadow="none"},className:"jsx-5142c383dd853e3a flex-1 rounded-lg px-3 py-2 text-[11px] text-primary outline-none transition-all disabled:opacity-50"}),(0,t.jsx)("button",{type:"button",onClick:C,disabled:m||!p.trim(),style:{background:m?"rgba(150,180,210,0.5)":"linear-gradient(180deg, #4a9eff, #0066ff)",boxShadow:m?"none":"0 2px 8px rgba(0,100,255,0.3)"},className:"jsx-5142c383dd853e3a rounded-lg px-4 py-2 text-[10px] font-bold uppercase tracking-wider text-white transition-all disabled:opacity-40",children:"Enviar"})]})]})]})}var $=$;let D=["Â¡Ã‘am Ã±am! Gracias ðŸ˜‹","Â¡Delicioso! Me siento mejor ðŸŠ","Â¡Mmm quÃ© rico! EnergÃ­a recargada âœ¨","Â¡Gracias por la comidita! ðŸ’š","Â¡Nom nom nom! Eres el/la mejor ðŸŒŸ"];function G({petName:e,onFeed:s,hungerValue:r}){let{authenticated:l,user:i,login:n}=(0,$.u)(),[o,c]=(0,a.useState)("idle"),[d,x]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),f=!!l&&!!i&&R(i.id).balance>=10,m=r>=100;async function b(){if("processing"===o)return;if(!l||!i){p("Inicia sesiÃ³n para alimentar"),setTimeout(()=>p(""),2500),n();return}if(m){p("Â¡Tu PixSim ya estÃ¡ satisfecho!"),setTimeout(()=>p(""),2500);return}if(!f){p("Habla conmigo para ganar ðŸŠ"),setTimeout(()=>p(""),2500);return}if(c("processing"),x("â³ Procesandoâ€¦"),await new Promise(e=>setTimeout(e,600)),!function(e,t=10){let a=R(e);return!(a.balance<t)&&(a.balance-=t,z(e,a),!0)}(i.id,10)){c("error"),x("No tienes suficientes ðŸŠ"),setTimeout(()=>{c("idle"),x("")},2e3);return}I(-10),s();let e=D[Math.floor(Math.random()*D.length)];c("success"),x(`âœ… ${e}`),setTimeout(()=>{c("idle"),x("")},2500)}let h="processing"===o;return(0,t.jsxs)("div",{className:"relative",children:[u&&(0,t.jsx)("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 z-20 whitespace-nowrap rounded-lg px-3 py-1 text-[9px] font-semibold tracking-wider animate-fade-in",style:{background:"rgba(255,87,34,0.1)",color:"#ff5722",border:"1px solid rgba(255,87,34,0.2)"},children:u}),(0,t.jsx)("button",{type:"button",onClick:b,disabled:h,className:"group w-full rounded-xl px-4 py-3 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] disabled:opacity-60 disabled:hover:scale-100",style:{background:h?"rgba(200,220,240,0.5)":"linear-gradient(180deg, rgba(255,255,255,0.7), rgba(240,255,240,0.5))",border:`1px solid ${m?"rgba(200,220,255,0.3)":"rgba(76,175,80,0.3)"}`,boxShadow:h?"none":"0 2px 8px rgba(76,175,80,0.1)"},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg transition-transform duration-200 group-hover:scale-110",children:"ðŸŽ"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("span",{className:"block text-[11px] font-bold tracking-wider text-primary",children:"Alimentar"}),(0,t.jsxs)("span",{className:"block text-[9px] font-semibold tracking-wider text-primary/40",children:[10," ðŸŠ $FRUTA"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[m&&(0,t.jsx)("span",{className:"text-[9px] font-semibold tracking-wider text-primary/40",children:"Satisfecho âœ¨"}),!l&&(0,t.jsx)("span",{className:"text-[9px] font-semibold tracking-wider text-primary/40",children:"Requiere login"}),l&&!m&&!f&&(0,t.jsx)("span",{className:"text-[9px] font-semibold tracking-wider",style:{color:"#ff5722"},children:"Sin fondos"})]})]})}),d&&(0,t.jsx)("div",{className:"mt-2 rounded-lg px-3 py-2 text-center text-[10px] font-semibold tracking-wider animate-fade-in",style:{background:"error"===o?"rgba(255,87,34,0.08)":"success"===o?"rgba(76,175,80,0.08)":"rgba(74,158,255,0.08)",color:"error"===o?"#ff5722":"success"===o?"#4caf50":"#4a9eff",border:`1px solid ${"error"===o?"rgba(255,87,34,0.15)":"success"===o?"rgba(76,175,80,0.15)":"rgba(74,158,255,0.15)"}`},children:d})]})}let W=[{level:1,title:"Asistente Creativo",minXP:0,emoji:"ðŸ”°",color:"#a0aec0"},{level:2,title:"DiseÃ±ador Experimental",minXP:100,emoji:"ðŸ”¬",color:"#9c7cf4"},{level:3,title:"Arquitecto Cyber",minXP:300,emoji:"âš™ï¸",color:"#00bcd4"},{level:4,title:"Visionario Web3",minXP:600,emoji:"ðŸŒ",color:"#4a9eff"},{level:5,title:"Maestro SintÃ©tico",minXP:1e3,emoji:"ðŸ‘‘",color:"#ffd700"}];function B(e){for(let t=W.length-1;t>=0;t--)if(e>=W[t].minXP)return W[t];return W[0]}function Y(e){let t=B(e);return W.find(e=>e.level===t.level+1)??null}function X({level:e,size:a,color:s}){return(0,t.jsxs)("div",{style:{width:a,height:1.5*a},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" pointer-events-none absolute inset-0 z-20",children:[e>=2&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{borderTop:`1px solid ${s}`,borderLeft:`1px solid ${s}`,height:12,borderRadius:"4px 0 0 0"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute top-3 left-2 w-8 opacity-40"}),(0,t.jsx)("div",{style:{borderTop:`1px solid ${s}`,borderRight:`1px solid ${s}`,height:12,borderRadius:"0 4px 0 0"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute top-3 right-2 w-8 opacity-40"}),(0,t.jsx)("div",{style:{borderBottom:`1px solid ${s}`,borderLeft:`1px solid ${s}`,height:8,borderRadius:"0 0 0 4px"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute bottom-6 left-2 w-6 opacity-30"}),(0,t.jsx)("div",{style:{borderBottom:`1px solid ${s}`,borderRight:`1px solid ${s}`,height:8,borderRadius:"0 0 4px 0"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute bottom-6 right-2 w-6 opacity-30"})]}),e>=3&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{backgroundColor:s,boxShadow:`0 0 6px ${s}`,animation:"pulse 2s ease-in-out infinite"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute top-[15%] left-1 h-1.5 w-1.5 rounded-full"}),(0,t.jsx)("div",{style:{backgroundColor:s,boxShadow:`0 0 6px ${s}`,animation:"pulse 2.5s ease-in-out infinite"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute top-[35%] right-1 h-1.5 w-1.5 rounded-full"}),(0,t.jsx)("div",{style:{backgroundColor:s,boxShadow:`0 0 4px ${s}`,animation:"pulse 3s ease-in-out infinite"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute bottom-[25%] left-2 h-1 w-1 rounded-full"}),(0,t.jsx)("div",{style:{height:"20%",background:`linear-gradient(to bottom, ${s}, transparent)`},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute top-[15%] left-[7px] w-px opacity-20"})]}),e>=4&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{background:`linear-gradient(90deg, transparent, ${s}, transparent)`,animation:"scanLine 3s ease-in-out infinite"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute left-0 right-0 h-px opacity-30"}),(0,t.jsx)("div",{style:{color:s,fontSize:"10px",fontFamily:"monospace"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute top-1 left-1 opacity-25",children:"â•“"}),(0,t.jsx)("div",{style:{color:s,fontSize:"10px",fontFamily:"monospace"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute top-1 right-1 opacity-25",children:"â•–"}),(0,t.jsx)("div",{style:{color:s,fontSize:"10px",fontFamily:"monospace"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute bottom-4 left-1 opacity-25",children:"â•™"}),(0,t.jsx)("div",{style:{color:s,fontSize:"10px",fontFamily:"monospace"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute bottom-4 right-1 opacity-25",children:"â•œ"}),(0,t.jsx)("div",{style:{color:s,fontSize:"6px",fontFamily:"monospace",letterSpacing:"2px"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute top-2 left-1/2 -translate-x-1/2 opacity-15",children:"LVL.04"})]}),e>=5&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{border:`1px solid ${s}`,boxShadow:`0 0 20px ${s}40, inset 0 0 20px ${s}20`,animation:"pulse 2s ease-in-out infinite"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute -inset-2 rounded-3xl opacity-15"}),(0,t.jsx)("div",{style:{width:4,height:4,borderRadius:"50%",backgroundColor:s,boxShadow:`0 0 8px ${s}`,animation:"orbit 4s linear infinite",top:"50%",left:"50%"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute"}),(0,t.jsx)("div",{style:{filter:`drop-shadow(0 0 6px ${s})`,animation:"float 3s ease-in-out infinite"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute -top-4 left-1/2 -translate-x-1/2 text-lg",children:"ðŸ‘‘"}),(0,t.jsx)("div",{style:{color:s,fontSize:"5px",fontFamily:"monospace",letterSpacing:"3px"},className:b.default.dynamic([["98bcf647a6aa1c7f",[.55*a,.55*a]]])+" absolute bottom-2 left-1/2 -translate-x-1/2 opacity-20",children:"MAESTRO"})]}),(0,t.jsx)(b.default,{id:"98bcf647a6aa1c7f",dynamic:[.55*a,.55*a],children:`@keyframes scanLine{0%,to{top:10%}50%{top:85%}}@keyframes orbit{0%{transform:rotate(0deg)translateX(${.55*a}px)rotate(0deg)}to{transform:rotate(360deg)translateX(${.55*a}px)rotate(-360deg)}}@keyframes float{0%,to{transform:translate(-50%)translateY(0)}50%{transform:translate(-50%)translateY(-4px)}}`})]})}function q({xp:e,compact:a=!1}){let s=B(e),r=Y(e),l=function(e){let t=B(e),a=Y(e);if(!a)return 100;let s=a.minXP-t.minXP;return Math.min(100,Math.round((e-t.minXP)/s*100))}(e);return a?(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-sm",children:s.emoji}),(0,t.jsxs)("span",{className:"text-[9px] font-bold uppercase tracking-wider",style:{color:s.color},children:["Nv.",s.level]})]}):(0,t.jsxs)("div",{className:"rounded-xl p-3 flex flex-col gap-2",style:{background:`${s.color}08`,border:`1px solid ${s.color}20`},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-base",children:s.emoji}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-[10px] font-bold uppercase tracking-wider",style:{color:s.color},children:["Nv.",s.level," â€” ",s.title]})})]}),(0,t.jsxs)("span",{className:"text-[9px] font-semibold text-primary/40",children:[e," XP"]})]}),r&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-1.5 rounded-full bg-gray-100",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-500",style:{width:`${l}%`,backgroundColor:s.color}})}),(0,t.jsxs)("span",{className:"text-[7px] text-primary/30 flex-shrink-0",children:[r.minXP-e," XP â†’ Nv.",r.level]})]}),!r&&(0,t.jsx)("p",{className:"text-[8px] text-center uppercase tracking-widest",style:{color:s.color},children:"âœ¦ Nivel MÃ¡ximo Alcanzado âœ¦"})]})}function U(e){return e>=90?{xp:50,coins:30,label:"LEGENDARIO",emoji:"ðŸ‘‘"}:e>=75?{xp:30,coins:20,label:"Ã‰PICO",emoji:"âš¡"}:e>=60?{xp:15,coins:10,label:"NOTABLE",emoji:"âœ¨"}:{xp:5,coins:0,label:"EN PROGRESO",emoji:"ðŸŒ±"}}let J="pixsim-lab-history";function V({value:e,label:a,icon:s,color:r}){let l=2*Math.PI*28;return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[(0,t.jsxs)("div",{className:"relative h-[72px] w-[72px]",children:[(0,t.jsxs)("svg",{className:"h-full w-full -rotate-90",viewBox:"0 0 64 64",children:[(0,t.jsx)("circle",{cx:"32",cy:"32",r:28,fill:"none",stroke:"rgba(0,0,0,0.06)",strokeWidth:"4"}),(0,t.jsx)("circle",{cx:"32",cy:"32",r:28,fill:"none",stroke:r,strokeWidth:"4",strokeLinecap:"round",strokeDasharray:l,strokeDashoffset:l-e/100*l,className:"transition-all duration-1000 ease-out"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,t.jsx)("span",{className:"text-sm",children:s}),(0,t.jsx)("span",{className:"text-[11px] font-bold",style:{color:r},children:e})]})]}),(0,t.jsx)("span",{className:"text-[8px] font-semibold uppercase tracking-wider text-primary/50 text-center leading-tight max-w-[80px]",children:a})]})}function Z({score:e,color:a}){let s=e>=90?{label:"LEGENDARIO",emoji:"ðŸ‘‘"}:e>=75?{label:"Ã‰PICO",emoji:"âš¡"}:e>=60?{label:"NOTABLE",emoji:"âœ¨"}:e>=40?{label:"PROMETEDOR",emoji:"ðŸŒ±"}:{label:"EN PROGRESO",emoji:"ðŸ”§"};return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"flex h-20 w-20 items-center justify-center rounded-2xl",style:{background:`linear-gradient(135deg, ${a}20, ${a}40)`,border:`2px solid ${a}60`,boxShadow:`0 4px 20px ${a}30`},children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold",style:{color:a},children:e})})}),(0,t.jsxs)("span",{className:"text-[9px] font-bold uppercase tracking-widest",style:{color:a},children:[s.emoji," ",s.label]})]})}function H({petName:e,accentColor:s,onClose:r,creativeXP:l,creativeCoins:i,onReward:n,petIdentity:o,petPower:c,stats:d}){let[x,u]=(0,a.useState)([]),[p,f]=(0,a.useState)(null),[m,b]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[v,N]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[_,M]=(0,a.useState)([]),[$,P]=(0,a.useState)(!1),[E,R]=(0,a.useState)(null),[z,O]=(0,a.useState)([]),[F,I]=(0,a.useState)(""),[Q,T]=(0,a.useState)(!1),[A,L]=(0,a.useState)(!1),D=(0,a.useRef)(null),G=(0,a.useRef)(null);async function W(){if(!F.trim()||Q)return;let t={role:"user",content:F.trim()};O(e=>[...e,t]),I(""),T(!0);try{let a=await fetch("/api/lab-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t.content,petName:e,evaluation:y||null,history:z})}),s=await a.json();O(e=>[...e,{role:"assistant",content:s.reply}])}catch{O(e=>[...e,{role:"assistant",content:"Error de conexiÃ³n... ðŸ”§"}])}finally{T(!1)}}(0,a.useEffect)(()=>{M(function(){try{return JSON.parse(localStorage.getItem(J)||"[]")}catch{return[]}}())},[]),(0,a.useEffect)(()=>{G.current?.scrollIntoView({behavior:"smooth"})},[z]);let Y=x.find(e=>e.id===p)??null,X=Y?.dataUrl??null;function q(e){if(!e.type.startsWith("image/")||e.size>0xa00000)return;let t=new FileReader;t.onload=t=>{let a=Date.now().toString(36)+Math.random().toString(36).slice(2,5),s={id:a,dataUrl:t.target?.result,fileName:e.name};u(e=>[...e,s]),f(a),j(null),N(null),k(null),C(!1)},t.readAsDataURL(e)}function H(e){e.preventDefault(),b(!1),Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/")).forEach(e=>q(e))}async function K(){if(X){g(!0),N(null),j(null),k(null),C(!1);try{let e=await fetch("/api/evaluate-design",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:X})}),t=await e.json();if(t.evaluation){j(t.evaluation),p&&u(e=>e.map(e=>e.id===p?{...e,evaluation:t.evaluation}:e));let e=U(t.evaluation.totalScore),a=B(l),s=await function(e,t=120){return new Promise(a=>{let s=new window.Image;s.onload=()=>{let e=t/s.width,r=document.createElement("canvas");r.width=t,r.height=s.height*e,r.getContext("2d").drawImage(s,0,0,r.width,r.height),a(r.toDataURL("image/jpeg",.6))},s.src=e})}(X),r=[{id:Date.now().toString(36),thumbnail:s,date:new Date().toISOString(),totalScore:t.evaluation.totalScore,originality:t.evaluation.originality,aesthetic:t.evaluation.aesthetic,web3Potential:t.evaluation.web3Potential,visualImpact:t.evaluation.visualImpact,comment:t.evaluation.comment,levelAtTime:a.level,levelTitle:a.title,xpEarned:e.xp,coinsEarned:e.coins},..._].slice(0,50);M(r),localStorage.setItem(J,JSON.stringify(r.slice(0,50))),setTimeout(()=>{k(e),setTimeout(()=>{n(e.xp,e.coins),C(!0)},2e3)},800)}else N(t.error||"Error en la evaluaciÃ³n")}catch{N("Error de conexiÃ³n. Intenta de nuevo.")}finally{g(!1)}}}return(0,t.jsx)("div",{className:"animate-fade-in flex flex-col gap-4",children:(0,t.jsxs)("div",{className:"overflow-hidden rounded-2xl shadow-xl",style:{background:"rgba(255,255,255,0.92)",border:"1px solid rgba(220,230,240,0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-5 py-3",style:{background:"rgba(200,225,255,0.3)",borderBottom:"1px solid rgba(200,220,240,0.5)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full",style:{background:`${s}cc`}}),(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary/10"}),(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary/10"})]}),(0,t.jsx)("span",{className:"text-[9px] font-semibold uppercase tracking-[0.2em] text-primary/60",children:"Laboratorio Creativo"})]}),(0,t.jsx)("button",{type:"button",onClick:r,className:"rounded-md px-2 py-0.5 text-[8px] font-semibold uppercase tracking-wider text-primary/40 transition-all hover:text-primary/70 hover:bg-gray-100",children:"âœ• Cerrar"})]}),(0,t.jsxs)("div",{className:"p-5 flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold tracking-wider text-primary",children:"ðŸ§ª Laboratorio Creativo"}),(0,t.jsx)("p",{className:"mt-1 text-[10px] text-primary/50 leading-relaxed max-w-sm mx-auto",children:"Sube una imagen de tu diseÃ±o. Un experto en moda futurista cyberpunk/cybercore/web3 lo evaluarÃ¡."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>P(!1),className:"flex-1 rounded-xl py-2 text-[9px] font-bold uppercase tracking-wider transition-all",style:{background:$?"transparent":`${s}15`,color:$?"rgba(0,0,0,0.3)":s,border:`1px solid ${!$?`${s}30`:"rgba(0,0,0,0.06)"}`},children:"ðŸ”¬ Evaluador"}),(0,t.jsxs)("button",{type:"button",onClick:()=>P(!0),className:"flex-1 rounded-xl py-2 text-[9px] font-bold uppercase tracking-wider transition-all",style:{background:$?`${s}15`:"transparent",color:$?s:"rgba(0,0,0,0.3)",border:`1px solid ${$?`${s}30`:"rgba(0,0,0,0.06)"}`},children:["ðŸ“œ Historial (",_.length,")"]})]}),$?(0,t.jsx)("div",{className:"flex flex-col gap-3 animate-fade-in",children:0===_.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-3xl mb-2",children:"ðŸ§ª"}),(0,t.jsx)("p",{className:"text-[10px] text-primary/40",children:"AÃºn no hay evaluaciones. Â¡Sube tu primer diseÃ±o!"})]}):_.map(e=>{let a=E===e.id,r=U(e.totalScore);return(0,t.jsxs)("div",{className:"rounded-xl overflow-hidden transition-all cursor-pointer",style:{background:"rgba(200,225,255,0.1)",border:"1px solid rgba(200,220,240,0.3)"},onClick:()=>R(a?null:e.id),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3",children:[(0,t.jsx)("img",{src:e.thumbnail,alt:"",className:"h-12 w-12 rounded-lg object-cover flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm",children:r.emoji}),(0,t.jsx)("span",{className:"text-[11px] font-bold",style:{color:s},children:e.totalScore}),(0,t.jsx)("span",{className:"text-[8px] uppercase tracking-wider text-primary/30",children:r.label})]}),(0,t.jsxs)("p",{className:"text-[8px] text-primary/40 mt-0.5",children:[new Date(e.date).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})," â€¢ Nv.",e.levelAtTime," ",e.levelTitle]})]}),(0,t.jsx)("span",{className:"text-[10px] text-primary/20",children:a?"â–¼":"â–¶"})]}),a&&(0,t.jsxs)("div",{className:"px-3 pb-3 flex flex-col gap-3 border-t border-[rgba(200,220,240,0.3)] pt-3 animate-fade-in",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"flex flex-col gap-1.5",children:[{label:"Originalidad",value:e.originality,color:"#e0457b"},{label:"Coherencia EstÃ©tica",value:e.aesthetic,color:"#9c7cf4"},{label:"Potencial Web3",value:e.web3Potential,color:"#4a9eff"},{label:"Impacto Visual",value:e.visualImpact,color:"#00bcd4"}].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[8px] text-primary/40 w-28 flex-shrink-0",children:e.label}),(0,t.jsx)("div",{className:"flex-1 h-1.5 rounded-full bg-gray-100",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full",style:{width:`${e.value}%`,backgroundColor:e.color}})}),(0,t.jsx)("span",{className:"text-[9px] font-bold w-7 text-right",style:{color:e.color},children:e.value})]},e.label))}),(0,t.jsx)("div",{className:"rounded-lg p-2.5",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(200,220,240,0.3)"},children:(0,t.jsxs)("p",{className:"text-[10px] text-primary/60 italic leading-relaxed",children:["â€œ",e.comment,"â€"]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-[8px] text-primary/40",children:[(0,t.jsxs)("span",{children:["ðŸ§ª +",e.xpEarned," XP"]}),e.coinsEarned>0&&(0,t.jsxs)("span",{children:["ðŸª™ +",e.coinsEarned," monedas"]})]})]})]},e.id)})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-5",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col gap-4",children:[X&&(0,t.jsx)("div",{className:"rounded-2xl overflow-hidden",style:{border:`2px solid ${s}40`,background:"rgba(255,255,255,0.5)"},children:(0,t.jsxs)("div",{className:"p-4 flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:"relative overflow-hidden rounded-xl shadow-lg",style:{maxHeight:"300px"},children:(0,t.jsx)("img",{src:X,alt:"Preview",className:"max-w-full max-h-[300px] object-contain rounded-xl"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[9px] text-primary/40 truncate max-w-[180px]",children:Y?.fileName}),Y?.evaluation&&(0,t.jsxs)("span",{className:"text-[8px] font-bold px-2 py-0.5 rounded-full",style:{color:s,background:`${s}15`},children:["âœ“ ",Y.evaluation.totalScore,"pts"]})]})]})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[x.map(e=>(0,t.jsxs)("div",{className:"relative group cursor-pointer rounded-xl overflow-hidden transition-all hover:scale-105",style:{width:64,height:64,border:p===e.id?`2px solid ${s}`:"2px solid rgba(200,220,240,0.4)",boxShadow:p===e.id?`0 0 10px ${s}30`:"none"},onClick:()=>{var t;let a;return f(t=e.id),a=x.find(e=>e.id===t),void(j(a?.evaluation??null),N(null),k(null),C(!1))},children:[(0,t.jsx)("img",{src:e.dataUrl,alt:"",className:"w-full h-full object-cover"}),e.evaluation&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 text-center text-[7px] font-bold text-white py-0.5",style:{background:`${s}cc`},children:e.evaluation.totalScore}),(0,t.jsx)("button",{type:"button",onClick:t=>{var a;t.stopPropagation(),a=e.id,u(e=>e.filter(e=>e.id!==a)),p===a&&(f(x.find(e=>e.id!==a)?.id??null),j(null),k(null),C(!1))},className:"absolute top-0 right-0 w-4 h-4 flex items-center justify-center text-[8px] text-white opacity-0 group-hover:opacity-100 transition-opacity",style:{background:"rgba(239,68,68,0.8)",borderRadius:"0 0 0 6px"},children:"âœ•"})]},e.id)),(0,t.jsx)("button",{type:"button",onClick:()=>D.current?.click(),className:"flex items-center justify-center rounded-xl transition-all hover:scale-105 cursor-pointer",style:{width:64,height:64,border:`2px dashed ${s}40`,background:`${s}08`},children:(0,t.jsx)("span",{className:"text-xl",style:{color:`${s}80`},children:"+"})}),(0,t.jsx)("input",{ref:D,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:function(e){Array.from(e.target.files||[]).forEach(e=>q(e)),D.current&&(D.current.value="")}})]}),0===x.length&&(0,t.jsx)("div",{className:`rounded-2xl border-2 border-dashed transition-all cursor-pointer ${m?"scale-[1.02]":""}`,style:{borderColor:m?s:"rgba(200,220,240,0.6)",background:m?`${s}10`:"rgba(200,225,255,0.1)",minHeight:"200px"},onDragOver:e=>{e.preventDefault(),b(!0)},onDragLeave:()=>b(!1),onDrop:H,onClick:()=>D.current?.click(),children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[200px] gap-3 p-6",children:[(0,t.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl",style:{background:`${s}15`,border:`1px solid ${s}30`},children:(0,t.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,t.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,t.jsx)("polyline",{points:"21 15 16 10 5 21"})]})}),(0,t.jsx)("p",{className:"text-[11px] font-semibold text-primary/60",children:"Arrastra imÃ¡genes aquÃ­"}),(0,t.jsx)("p",{className:"text-[9px] text-primary/30",children:"o haz clic para seleccionar"}),(0,t.jsx)("p",{className:"text-[8px] text-primary/20",children:"PNG, JPG, WEBP â€¢ MÃ¡x 10MB"})]})}),x.length>0&&(0,t.jsx)("div",{className:"rounded-xl transition-all",onDragOver:e=>{e.preventDefault(),b(!0)},onDragLeave:()=>b(!1),onDrop:H,style:{border:m?`2px dashed ${s}`:"none",background:m?`${s}10`:"transparent",padding:m?"12px":0,minHeight:m?"40px":0},children:m&&(0,t.jsx)("p",{className:"text-center text-[9px]",style:{color:s},children:"Suelta para agregar"})}),(0,t.jsx)("button",{type:"button",disabled:!X||h,onClick:K,className:"w-full rounded-xl px-4 py-3.5 text-[10px] font-bold uppercase tracking-[0.15em] transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:scale-100",style:{background:X&&!h?`linear-gradient(135deg, ${s}dd, ${s})`:`${s}20`,color:X&&!h?"#fff":`${s}80`,border:`1px solid ${X&&!h?s:`${s}30`}`,boxShadow:X&&!h?`0 4px 15px ${s}40`:"none"},children:h?(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"h-3 w-3 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Analizando diseÃ±o..."]}):y?"ðŸ”¬ Evaluar de nuevo":"ðŸ”¬ Evaluar DiseÃ±o"}),v&&(0,t.jsx)("p",{className:"text-center text-[10px] text-red-400 animate-fade-in",children:v})]}),y&&(0,t.jsx)("div",{className:"flex-1 flex flex-col gap-4 animate-fade-in",children:(0,t.jsxs)("div",{className:"rounded-2xl p-5 flex flex-col gap-5",style:{background:"rgba(200,225,255,0.15)",border:"1px solid rgba(200,220,240,0.4)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full animate-pulse",style:{background:s}}),(0,t.jsx)("span",{className:"text-[9px] font-semibold uppercase tracking-[0.2em] text-primary/60",children:"Resultados de EvaluaciÃ³n"})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(Z,{score:y.totalScore,color:s})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 justify-items-center sm:grid-cols-4",children:[(0,t.jsx)(V,{value:y.originality,label:"Originalidad",icon:"ðŸ’¡",color:"#e0457b"}),(0,t.jsx)(V,{value:y.aesthetic,label:"Coherencia EstÃ©tica",icon:"ðŸŽ¨",color:"#9c7cf4"}),(0,t.jsx)(V,{value:y.web3Potential,label:"Potencial Web3",icon:"ðŸŒ",color:"#4a9eff"}),(0,t.jsx)(V,{value:y.visualImpact,label:"Impacto Visual",icon:"âš¡",color:"#00bcd4"})]}),(0,t.jsx)("div",{className:"h-px bg-gray-200"}),(0,t.jsxs)("div",{className:"rounded-xl p-4",style:{background:"rgba(255,255,255,0.6)",border:"1px solid rgba(200,220,240,0.4)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"text-sm",children:"ðŸ§ "}),(0,t.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-widest",style:{color:s},children:"Mentor Creativo"})]}),(0,t.jsxs)("p",{className:"text-[11px] leading-relaxed text-primary/70 italic",children:["â€œ",y.comment,"â€"]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-1.5",children:[{label:"Originalidad",value:y.originality,color:"#e0457b"},{label:"Coherencia EstÃ©tica",value:y.aesthetic,color:"#9c7cf4"},{label:"Potencial Web3",value:y.web3Potential,color:"#4a9eff"},{label:"Impacto Visual",value:y.visualImpact,color:"#00bcd4"}].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[8px] text-primary/40 w-28 flex-shrink-0",children:e.label}),(0,t.jsx)("div",{className:"flex-1 h-1.5 rounded-full bg-gray-100",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-1000 ease-out",style:{width:`${e.value}%`,backgroundColor:e.color}})}),(0,t.jsx)("span",{className:"text-[9px] font-bold w-7 text-right",style:{color:e.color},children:e.value})]},e.label))})]})})]}),w&&y&&(0,t.jsx)("div",{className:"rounded-2xl p-5 text-center animate-fade-in",style:{background:S?"rgba(76,175,80,0.08)":"linear-gradient(135deg, rgba(156,124,244,0.1), rgba(255,215,0,0.1))",border:`1px solid ${S?"rgba(76,175,80,0.2)":"rgba(156,124,244,0.3)"}`},children:S?(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"âœ…"}),(0,t.jsxs)("p",{className:"text-[10px] font-semibold text-green-600",children:["Recompensa reclamada â€¢ XP: ",l," â€¢ Monedas: ",i]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:"text-4xl",style:{animation:"bounce 0.6s ease-in-out infinite"},children:w.emoji}),(0,t.jsx)("p",{className:"text-[11px] font-bold uppercase tracking-widest",style:{color:s},children:"Â¡Recompensa Desbloqueada!"}),(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-[#9c7cf4]",children:["+",w.xp]}),(0,t.jsx)("span",{className:"text-[8px] font-semibold uppercase tracking-wider text-[#9c7cf4]/60",children:"XP Creativo"})]}),w.coins>0&&(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-[#d4a800]",children:["+",w.coins]}),(0,t.jsx)("span",{className:"text-[8px] font-semibold uppercase tracking-wider text-[#d4a800]/60",children:"Monedas"})]})]}),(0,t.jsx)("div",{className:"flex gap-1 mt-1",children:["âœ¦","âœ§","âœ¦","âœ§","âœ¦"].map((e,a)=>(0,t.jsx)("span",{className:"text-xs",style:{color:s,opacity:.4+a%2*.3,animation:`pulse ${1+.2*a}s ease-in-out infinite`},children:e},a))})]})}),0===x.length&&!y&&(0,t.jsx)("p",{className:"text-center text-[8px] text-primary/25 uppercase tracking-widest",children:"Sube imÃ¡genes para activar la evaluaciÃ³n"}),(0,t.jsx)("button",{type:"button",onClick:()=>L(!A),className:"w-full rounded-xl px-4 py-3 text-[10px] font-bold uppercase tracking-[0.15em] text-primary transition-all hover:scale-[1.02] active:scale-[0.98]",style:{background:A?"rgba(200,220,240,0.3)":`${s}15`,border:`1px solid ${A?"rgba(200,220,240,0.5)":`${s}30`}`},children:A?"âœ• Cerrar Chat del Lab":`ðŸ’¬ Hablar con ${e} sobre tu dise\xf1o`}),A&&(0,t.jsxs)("div",{className:"rounded-2xl overflow-hidden animate-fade-in",style:{background:"rgba(200,225,255,0.15)",border:"1px solid rgba(200,220,240,0.4)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2.5",style:{borderBottom:"1px solid rgba(200,220,240,0.3)"},children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full animate-pulse",style:{background:s}}),(0,t.jsx)("span",{className:"text-[9px] font-semibold uppercase tracking-[0.2em] text-primary/60",children:"Chat del Laboratorio"})]}),(0,t.jsxs)("div",{className:"h-48 overflow-y-auto p-3 flex flex-col gap-2",style:{scrollbarWidth:"thin"},children:[0===z.length&&(0,t.jsxs)("p",{className:"text-center text-[9px] text-primary/30 py-6",children:["PregÃºntale a ",e," sobre diseÃ±o, moda futurista o cÃ³mo mejorar tus creaciones ðŸ§ª"]}),z.map((a,r)=>(0,t.jsxs)("div",{className:`max-w-[85%] rounded-xl px-3 py-2 text-[11px] leading-relaxed ${"user"===a.role?"ml-auto":"mr-auto"}`,style:{background:"user"===a.role?`${s}20`:"rgba(255,255,255,0.6)",border:`1px solid ${"user"===a.role?`${s}30`:"rgba(200,220,240,0.4)"}`,color:"user"===a.role?s:"rgba(0,0,0,0.6)"},children:["assistant"===a.role&&(0,t.jsx)("p",{className:"text-[8px] font-bold uppercase tracking-wider mb-1",style:{color:s},children:e}),a.content]},r)),Q&&(0,t.jsx)("div",{className:"mr-auto rounded-xl px-3 py-2 text-[11px]",style:{background:"rgba(255,255,255,0.6)",border:"1px solid rgba(200,220,240,0.4)"},children:(0,t.jsx)("span",{className:"animate-pulse",style:{color:s},children:"pensando..."})}),(0,t.jsx)("div",{ref:G})]}),(0,t.jsxs)("div",{className:"flex gap-2 p-3",style:{borderTop:"1px solid rgba(200,220,240,0.3)"},children:[(0,t.jsx)("input",{type:"text",className:"flex-1 rounded-xl px-3 py-2 text-[11px] outline-none transition-all",style:{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(200,220,240,0.4)",color:"rgba(0,0,0,0.7)"},placeholder:`Escribe a ${e}...`,value:F,onChange:e=>I(e.target.value),onKeyDown:e=>"Enter"===e.key&&W(),maxLength:300,disabled:Q}),(0,t.jsx)("button",{type:"button",onClick:W,disabled:!F.trim()||Q,className:"rounded-xl px-4 py-2 text-[9px] font-bold uppercase tracking-wider text-white transition-all hover:scale-105 disabled:opacity-30 disabled:hover:scale-100",style:{background:s},children:"Enviar"})]})]})]})]})]})})}let K={water:"#00bcd4",fire:"#ff5722",earth:"#4caf50",aqua:"#00bcd4",lilac:"#9c7cf4",sky:"#4a9eff"},ee={water:"water",fire:"fire",earth:"earth",aqua:"water",lilac:"water",sky:"water"},et={water:"Agua",fire:"Fuego",earth:"Tierra",aqua:"Aqua",lilac:"Lila",sky:"Cielo"};function ea(e){localStorage.setItem("pixsim-data",JSON.stringify(e))}function es({data:e,onReset:s}){let[l,n]=(0,a.useState)(e),[o,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1),[b,h]=(0,a.useState)(!1),g=K[l.energy]??K.sky;(0,a.useEffect)(()=>{let e=setInterval(()=>{n(e=>{let t={...e,emotional:Math.max(0,e.emotional-1),vital:Math.max(0,e.vital-1),hunger:Math.max(0,e.hunger-1)};return ea(t),t})},6e4);return()=>clearInterval(e)},[]);let y=(0,a.useCallback)(e=>{b||(h(!0),n(t=>{let a=t.character?.outfit??0,s={...t,character:{...t.character??r,outfit:(a+e+4)%4}};return ea(s),s}),setTimeout(()=>h(!1),400))},[b]),v=(0,a.useCallback)(e=>{n(t=>{let a={...t,[e]:Math.min(100,t[e]+5)};return ea(a),a})},[]);return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsxs)("div",{className:"flex flex-1 flex-col lg:flex-row items-center lg:items-stretch justify-center gap-4 p-4 pt-2 lg:gap-6 lg:p-8",children:[(0,t.jsxs)("div",{className:"relative flex w-full flex-col items-center justify-center lg:w-[58%]",children:[(0,t.jsxs)("div",{className:"relative flex items-center justify-center",style:{minHeight:"420px"},children:[(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:(0,t.jsx)(j,{power:ee[l.energy]??"water",active:!0})}),(0,t.jsx)("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 h-4 w-36 rounded-full opacity-20 blur-[12px]",style:{backgroundColor:"#000"},"aria-hidden":"true"}),(0,t.jsxs)("div",{className:`relative z-10 animate-float transition-all duration-400 ${b?"scale-95 opacity-80":"scale-100 opacity-100"}`,children:[(0,t.jsx)(d,{parts:l.character??r,energyColor:g,identity:l.identity,size:260}),(0,t.jsx)(X,{level:B(l.creativeXP??0).level,size:260,color:B(l.creativeXP??0).color})]})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-8",children:[(0,t.jsx)("button",{type:"button",onClick:()=>y(-1),className:"group flex h-10 w-10 items-center justify-center rounded-full transition-all hover:scale-110 active:scale-90",style:{background:"rgba(255,255,255,0.15)",border:"1px solid rgba(255,255,255,0.25)",backdropFilter:"blur(8px)"},"aria-label":"Rotar izquierda",children:(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.8)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-transform group-hover:-translate-x-0.5",children:(0,t.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,t.jsx)("span",{className:"text-[9px] font-semibold uppercase tracking-[0.2em] text-primary/50",children:i[l.character?.outfit??0]}),(0,t.jsx)("button",{type:"button",onClick:()=>y(1),className:"group flex h-10 w-10 items-center justify-center rounded-full transition-all hover:scale-110 active:scale-90",style:{background:"rgba(255,255,255,0.15)",border:"1px solid rgba(255,255,255,0.25)",backdropFilter:"blur(8px)"},"aria-label":"Rotar derecha",children:(0,t.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.8)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-transform group-hover:translate-x-0.5",children:(0,t.jsx)("polyline",{points:"9 18 15 12 9 6"})})})]}),(0,t.jsxs)("div",{className:"mt-3 text-center lg:hidden",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-wider text-white drop-shadow-lg",children:l.name}),(0,t.jsxs)("div",{className:"mt-1 flex items-center justify-center gap-2",children:[(0,t.jsx)(x,{type:ee[l.energy]??"water",color:g,size:16,glow:!0}),(0,t.jsxs)("span",{className:"text-[10px] font-semibold uppercase tracking-widest",style:{color:g},children:["Poder de ",et[l.energy]??l.energy]})]})]})]}),(0,t.jsx)("div",{className:"w-full lg:w-[38%] lg:max-w-sm",children:(0,t.jsxs)("div",{className:"overflow-hidden rounded-2xl shadow-xl",style:{background:"rgba(255,255,255,0.92)",border:"1px solid rgba(220,230,240,0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-5 py-3",style:{background:"rgba(200,225,255,0.3)",borderBottom:"1px solid rgba(200,220,240,0.5)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full",style:{background:`${g}cc`}}),(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary/10"}),(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary/10"})]}),(0,t.jsx)("span",{className:"text-[9px] font-semibold uppercase tracking-[0.2em] text-primary/60",children:"Estado"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>c(!0),className:"rounded-md px-2 py-0.5 text-[8px] font-semibold uppercase tracking-wider text-primary/40 transition-all hover:text-red-400 hover:bg-red-50",children:"Reiniciar"})]}),(0,t.jsxs)("div",{className:"p-5 flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:"hidden lg:block",children:[(0,t.jsx)("h2",{className:"text-xl font-bold tracking-wider text-primary",children:l.name}),(0,t.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,t.jsx)(x,{type:ee[l.energy]??"water",color:g,size:16,glow:!0}),(0,t.jsxs)("span",{className:"text-[10px] font-semibold uppercase tracking-widest",style:{color:g},children:["Poder de ",et[l.energy]??l.energy]})]}),(0,t.jsx)("p",{className:"mt-0.5 text-[9px] uppercase tracking-widest text-primary/30",children:"femenino"===l.identity?"Identidad Femenina":"masculino"===l.identity?"Identidad Masculina":"Sin GÃ©nero"})]}),(0,t.jsx)("div",{className:"hidden lg:block h-px bg-gray-200"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{label:"Estado emocional",value:l.emotional,max:100,barColor:"#e0457b"}),0===l.emotional&&(0,t.jsx)("p",{className:"mt-1 text-[8px] font-semibold tracking-wider text-red-400 animate-fade-in",children:"Necesita recarga"}),(0,t.jsx)("div",{className:"mt-1.5 flex justify-end",children:(0,t.jsx)(S,{icon:(0,t.jsx)(C,{className:"h-3.5 w-3.5"}),label:"Recargar",color:"#e0457b",onClick:()=>v("emotional")})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{label:"EnergÃ­a vital",value:l.vital,max:100,barColor:"#4a9eff"}),0===l.vital&&(0,t.jsx)("p",{className:"mt-1 text-[8px] font-semibold tracking-wider text-red-400 animate-fade-in",children:"Necesita recarga"}),(0,t.jsx)("div",{className:"mt-1.5 flex justify-end",children:(0,t.jsx)(S,{icon:(0,t.jsx)(_,{className:"h-3.5 w-3.5"}),label:"Recargar",color:"#4a9eff",onClick:()=>v("vital")})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k,{label:"ConexiÃ³n regenerativa",value:l.hunger,max:100,barColor:"#00bcd4"}),0===l.hunger&&(0,t.jsx)("p",{className:"mt-1 text-[8px] font-semibold tracking-wider text-red-400 animate-fade-in",children:"Necesita recarga"}),(0,t.jsx)("div",{className:"mt-1.5 flex justify-end",children:(0,t.jsx)(S,{icon:(0,t.jsx)(M,{className:"h-3.5 w-3.5"}),label:"Recargar",color:"#00bcd4",onClick:()=>v("hunger")})})]})]}),(0,t.jsx)("div",{className:"h-px bg-gray-200"}),(0,t.jsx)("button",{type:"button",onClick:()=>{m(!f),f||p(!1)},className:"w-full rounded-xl px-4 py-3 text-[10px] font-bold uppercase tracking-[0.15em] text-primary transition-all hover:scale-[1.02] active:scale-[0.98]",style:{background:f?"rgba(200,220,240,0.3)":`${g}20`,border:`1px solid ${f?"rgba(200,220,240,0.5)":`${g}40`}`},children:f?"âœ• Cerrar Lab":"ðŸ§ª Laboratorio Creativo"}),(0,t.jsx)(G,{petName:l.name,onFeed:()=>{n(e=>{let t={...e,hunger:Math.min(100,e.hunger+15)};return ea(t),t})},hungerValue:l.hunger}),(0,t.jsx)("button",{type:"button",onClick:()=>p(!u),className:"w-full rounded-xl px-4 py-3 text-[10px] font-bold uppercase tracking-[0.15em] text-primary transition-all hover:scale-[1.02] active:scale-[0.98]",style:{background:u?"rgba(200,220,240,0.3)":`${g}20`,border:`1px solid ${u?"rgba(200,220,240,0.5)":`${g}40`}`},children:u?"âœ• Cerrar Chat":`ðŸ’¬ Hablar con ${l.name}`}),(l.creativeXP??0)>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q,{xp:l.creativeXP??0}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"flex-1 flex items-center justify-between rounded-xl px-3 py-2",style:{background:"rgba(156,124,244,0.08)",border:"1px solid rgba(156,124,244,0.15)"},children:[(0,t.jsx)("span",{className:"text-[8px] font-semibold uppercase tracking-wider text-[#9c7cf4]",children:"ðŸ§ª XP"}),(0,t.jsx)("span",{className:"text-xs font-bold text-[#9c7cf4]",children:l.creativeXP??0})]}),(l.creativeCoins??0)>0&&(0,t.jsxs)("div",{className:"flex-1 flex items-center justify-between rounded-xl px-3 py-2",style:{background:"rgba(255,215,0,0.08)",border:"1px solid rgba(255,215,0,0.15)"},children:[(0,t.jsx)("span",{className:"text-[8px] font-semibold uppercase tracking-wider text-[#d4a800]",children:"ðŸª™"}),(0,t.jsx)("span",{className:"text-xs font-bold text-[#d4a800]",children:l.creativeCoins??0})]})]})]}),(0,t.jsxs)("p",{className:"text-center text-[8px] uppercase tracking-widest text-primary/30",children:["Creado el"," ",new Date(l.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})]})]})]})})]}),u&&(0,t.jsx)("div",{className:"animate-fade-in px-4 pb-6 lg:px-8",children:(0,t.jsx)("div",{className:"mx-auto max-w-3xl overflow-hidden rounded-2xl shadow-xl",style:{background:"rgba(255,255,255,0.92)",border:"1px solid rgba(220,230,240,0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(L,{petName:l.name,petIdentity:l.identity,petPower:l.energy,stats:{emotional:l.emotional,vital:l.vital,hunger:l.hunger},onStatChange:(e,t)=>{n(a=>{let s=Math.max(0,Math.min(100,a[e]+t)),r={...a,[e]:s};return ea(r),r})}})})})}),f&&(0,t.jsx)("div",{className:"animate-fade-in px-4 pb-6 lg:px-8",children:(0,t.jsx)("div",{className:"mx-auto max-w-3xl",children:(0,t.jsx)(H,{petName:l.name,accentColor:g,onClose:()=>m(!1),creativeXP:l.creativeXP??0,creativeCoins:l.creativeCoins??0,onReward:(e,t)=>{n(a=>{let s={...a,creativeXP:(a.creativeXP??0)+e,creativeCoins:(a.creativeCoins??0)+t,emotional:Math.min(100,a.emotional+Math.round(.3*e)),vital:Math.min(100,a.vital+Math.round(.2*e)),hunger:Math.min(100,a.hunger+Math.round(.5*t))};return ea(s),s})},petIdentity:l.identity,petPower:l.energy,stats:{emotional:l.emotional,vital:l.vital,hunger:l.hunger}})})}),o&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0,0,0,0.5)",backdropFilter:"blur(8px)"},role:"dialog","aria-modal":"true","aria-labelledby":"reset-title",children:(0,t.jsxs)("div",{className:"w-full max-w-sm animate-fade-in overflow-hidden rounded-2xl shadow-xl",style:{background:"rgba(255,255,255,0.15)",border:"1px solid rgba(255,255,255,0.2)",backdropFilter:"blur(24px)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2.5",style:{background:"rgba(255,80,80,0.15)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-red-400"}),(0,t.jsx)("span",{className:"text-[9px] font-semibold uppercase tracking-[0.2em] text-red-300",children:"Confirmar"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{id:"reset-title",className:"mb-2 text-center text-sm font-bold tracking-wider text-primary",children:"Reiniciar experiencia"}),(0,t.jsx)("p",{className:"mb-6 text-center text-[11px] leading-relaxed text-primary/50",children:"Esto eliminarÃ¡ tu PixSim actual, sus stats y el historial de chat. Las memorias se conservarÃ¡n."}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>c(!1),className:"flex-1 rounded-lg py-2.5 text-[10px] font-semibold uppercase tracking-wider text-primary/60 transition-all hover:bg-gray-100",style:{border:"1px solid rgba(255,255,255,0.2)"},children:"Cancelar"}),(0,t.jsx)("button",{type:"button",onClick:()=>{c(!1),s()},className:"flex-1 rounded-lg py-2.5 text-[10px] font-bold uppercase tracking-wider text-white transition-all hover:opacity-90",style:{background:"linear-gradient(180deg, #f87171, #dc2626)",boxShadow:"0 3px 10px rgba(220,38,38,0.3)"},children:"Confirmar"})]})]})]})})]})}function er(){let[e,s]=(0,a.useState)([]);return(0,a.useEffect)(()=>{s(Array.from({length:12},(e,t)=>({id:t,left:100*Math.random(),top:5+55*Math.random(),size:1.5+3*Math.random(),delay:10*Math.random(),duration:4+5*Math.random()})))},[]),(0,t.jsxs)("div",{"aria-hidden":"true",className:"jsx-73bcc3cc42c0282f pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[(0,t.jsx)(b.default,{id:"73bcc3cc42c0282f",children:"@keyframes sparkle-pulse{0%,to{opacity:0;transform:scale(.3)}50%{opacity:.7;transform:scale(1)}}"}),(0,t.jsx)("div",{style:{backgroundImage:"url('/images/bg-bliss.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},className:"jsx-73bcc3cc42c0282f absolute inset-0"}),(0,t.jsx)("div",{style:{backgroundImage:`
            linear-gradient(rgba(255,255,255,0.07) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255,255,255,0.07) 1px, transparent 1px)
          `,backgroundSize:"70px 70px"},className:"jsx-73bcc3cc42c0282f absolute inset-0"}),e.map(e=>(0,t.jsx)("div",{style:{left:`${e.left}%`,top:`${e.top}%`,width:e.size,height:e.size,background:"rgba(255,255,255,0.9)",boxShadow:`0 0 ${3*e.size}px rgba(200,230,255,0.5), 0 0 ${e.size}px rgba(255,255,255,0.8)`,animation:`sparkle-pulse ${e.duration}s ease-in-out ${e.delay}s infinite`},className:"jsx-73bcc3cc42c0282f absolute rounded-full"},e.id)),(0,t.jsx)("div",{style:{background:"radial-gradient(ellipse 75% 65% at 50% 50%, transparent 50%, rgba(0,0,0,0.06) 100%)"},className:"jsx-73bcc3cc42c0282f absolute inset-0"})]})}let el="pixsim-data";function ei(){let[e,s]=(0,a.useState)(null),[r,l]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{s(function(){try{let e=localStorage.getItem(el);if(!e)return null;return JSON.parse(e)}catch{return null}}()),l(!0)},[]),r)?(0,t.jsxs)("main",{children:[(0,t.jsx)(er,{}),(0,t.jsx)(F,{}),e?(0,t.jsx)(es,{data:e,onReset:function(){localStorage.removeItem(el),localStorage.removeItem("pixsim-chat"),s(null)}}):(0,t.jsx)(w,{onCreate:function(e){localStorage.setItem(el,JSON.stringify(e)),s(e)}})]}):(0,t.jsxs)("main",{className:"flex min-h-screen items-center justify-center",children:[(0,t.jsx)(er,{}),(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent",role:"status",children:(0,t.jsx)("span",{className:"sr-only",children:"Cargando..."})})]})}e.s(["default",()=>ei],331713)}]);